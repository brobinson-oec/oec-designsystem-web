import { h, r as registerInstance, f as Host } from './index-13f33587.js';
import { R as ReplaySubject, j as from, t as takeUntil } from './index-c55aa8a2.js';
import './index-f1c6839d.js';
import { O as Overlay } from './Overlay-f250d759.js';

const MyIconOec = (attrs) => (h("svg", Object.assign({ viewBox: "0 0 123.11 123.17", xmlns: "http://www.w3.org/2000/svg" }, attrs),
  h("path", { d: "M81.269 19.71A19.712 19.712 0 1 1 61.556 0a19.708 19.708 0 0 1 19.713 19.71", fill: "#424448", "data-name": "Path 1319" }),
  h("path", { d: "M39.426 61.767a19.713 19.713 0 1 1-19.712-19.71 19.719 19.719 0 0 1 19.712 19.71", fill: "#002e5f", "data-name": "Path 1320" }),
  h("path", { d: "M123.108 61.775a19.714 19.714 0 1 1-19.714-19.72 19.708 19.708 0 0 1 19.714 19.72", fill: "#424448", "data-name": "Path 1321" }),
  h("path", { d: "M81.27 103.461a19.713 19.713 0 1 1-19.715-19.716 19.71 19.71 0 0 1 19.715 19.716", fill: "#424448", "data-name": "Path 1322" }),
  h("path", { fill: "none", "data-name": "Rectangle 3255", d: "M0 .001h123.11v123.17H0z" })));

const MyIconOps = (attrs) => (h("svg", Object.assign({ viewBox: "0 0 65.249 66.752", xmlns: "http://www.w3.org/2000/svg" }, attrs),
  h("defs", null,
    h("clipPath", { id: "a" },
      h("path", { transform: "translate(413.33)", fill: "none", "data-name": "Rectangle 3257", d: "M0 0h64.832v66.752H0z" })),
    h("clipPath", { id: "b" },
      h("path", { transform: "translate(413.33)", fill: "none", "data-name": "Rectangle 3256", d: "M0 0h64.831v66.752H0z" })),
    h("clipPath", { id: "c" },
      h("path", { d: "M423.565 56.542q-.234-.231-.465-.465a32.724 32.724 0 0 1 0-45.776 31.563 31.563 0 0 1 45.1 0 32.722 32.722 0 0 1 0 45.776 31.566 31.566 0 0 1-44.638.465M413.044 33.2c0 18.306 14.609 33.136 32.627 33.136s32.622-14.83 32.622-33.136S463.689.067 445.671.067 413.044 14.9 413.044 33.2", fill: "none", "data-name": "Path 1393" })),
    h("clipPath", { id: "e" },
      h("path", { transform: "translate(415.93 3.035)", fill: "none", "data-name": "Rectangle 3260", d: "M0 0h59.462v60.903H0z" })),
    h("clipPath", { id: "f" },
      h("path", { transform: "translate(420 26.893)", fill: "none", "data-name": "Rectangle 3261", d: "M0 0h52.13v11.676H0z" })),
    h("clipPath", { id: "g" },
      h("path", { d: "M425.334 55.985a28.924 28.924 0 0 1-.822-.821 31.258 31.258 0 0 1 0-43.321 29.235 29.235 0 0 1 42.126 0 31.258 31.258 0 0 1 0 43.321 29.211 29.211 0 0 1-41.3.821m-10.291-22.469c0 17.35 13.672 31.406 30.542 31.406s30.543-14.061 30.543-31.406S462.455 2.1 445.589 2.1s-30.542 14.062-30.542 31.413", fill: "none", "data-name": "Path 1402" })),
    h("linearGradient", { id: "d", x1: "-5.866", x2: "-5.852", y1: "2.733", y2: "2.733" },
      h("stop", { "stop-color": "#fff", offset: "0" }),
      h("stop", { "stop-color": "#dbdce0", offset: "0" }),
      h("stop", { "stop-color": "#747478", offset: "1" })),
    h("linearGradient", { id: "h", x1: "-6.315", x2: "-6.299", y1: "2.851", y2: "2.851" },
      h("stop", { "stop-color": "#aeadb2", offset: "0" }),
      h("stop", { "stop-color": "#aeadb2", offset: ".03" }),
      h("stop", { "stop-color": "#bcbcc0", offset: ".22" }),
      h("stop", { "stop-color": "#cbccd0", offset: ".38" }),
      h("stop", { "stop-color": "#bdbdc2", offset: ".56" }),
      h("stop", { "stop-color": "#aeadb2", offset: ".72" }),
      h("stop", { "stop-color": "#d7d8dc", offset: "1" }),
      h("stop", { "stop-color": "#aeadb2", offset: "1" }))),
  h("g", { "data-name": "Group 769" },
    h("g", { "data-name": "Group 773" },
      h("g", { "data-name": "Group 772" },
        h("g", { "clip-path": "url(#a)", "data-name": "Group 771", transform: "translate(-413)" },
          h("g", { "data-name": "Group 770" },
            h("g", { "clip-path": "url(#b)", "data-name": "Group 769" },
              h("image", { transform: "translate(413.33)", width: "64.831", height: "66.752", "data-name": "Rectangle 3255", xlinkHref: "data:image/png;base64,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" })))))),
    h("g", { "clip-path": "url(#c)", "data-name": "Group 776", transform: "translate(-413)" },
      h("path", { transform: "translate(410.65 .067)", fill: "url(#d)", "data-name": "Rectangle 3259", d: "M0 0h70v66.272H0z" })),
    h("path", { d: "M32.633 3.8a28.46 28.46 0 0 1 20.525 8.683 30.2 30.2 0 0 1 0 42 28.506 28.506 0 0 1-40.308.7q-.355-.344-.7-.7a30.212 30.212 0 0 1 0-42 28.476 28.476 0 0 1 20.506-8.7m0-.749c-16.424 0-29.731 13.634-29.731 30.451s13.307 30.452 29.731 30.452S62.388 50.3 62.388 33.486 49.076 3.035 32.657 3.035", fill: "#005787", "data-name": "Path 1394" }),
    h("g", { "data-name": "Group 780" },
      h("g", { "data-name": "Group 779", opacity: ".3" },
        h("g", { "clip-path": "url(#e)", "data-name": "Group 778", transform: "translate(-413)" },
          h("path", { d: "M445.633 3.8a28.46 28.46 0 0 1 20.525 8.683 30.2 30.2 0 0 1 0 42 28.506 28.506 0 0 1-40.308.7q-.355-.344-.7-.7a30.212 30.212 0 0 1 0-42 28.476 28.476 0 0 1 20.506-8.7m0-.749c-16.424 0-29.731 13.634-29.731 30.451s13.307 30.452 29.731 30.452 29.732-13.637 29.732-30.451-13.312-30.451-29.731-30.451", fill: "#14314f", "data-name": "Path 1395" })))),
    h("path", { d: "M13.918 26.893h8.024a3.9 3.9 0 0 1 1.441.255 1.959 1.959 0 0 1 .913.706c.331.48.292 1.263-.121 2.4l-1.844 4.975a4.4 4.4 0 0 1-3.1 3.073 5.418 5.418 0 0 1-1.623.255H9.6a3.79 3.79 0 0 1-1.44-.255 1.919 1.919 0 0 1-.932-.686q-.5-.692.115-2.4l1.854-4.961a4.866 4.866 0 0 1 1.657-2.4 5.135 5.135 0 0 1 1.441-.682 5.581 5.581 0 0 1 1.623-.255m-1.1 7.535c-.24.735-.043 1.364.869 1.364h1.868a1.782 1.782 0 0 0 1.883-1.364l1.388-3.789c.293-.807.384-1.441-.884-1.441h-2.084c-1.23 0-1.628 1.215-3.04 5.249", fill: "#005787", "data-name": "Path 1396" }),
    h("path", { d: "m31.332 34.375-.9 2.43a2.2 2.2 0 0 0-.058 1.734h-6.3a4.182 4.182 0 0 0 1.234-1.734l3.035-8.164a2.256 2.256 0 0 0 .062-1.719h11.223c2.67 0 3.227.773 2.771 2.262l-1.047 2.737c-.662 1.513-1.488 2.473-4.495 2.473Zm.72-1.921h2.641c1.258 0 1.321-.187 1.763-1.095l.3-.8c.577-1.34-.091-1.34-.6-1.34h-2.91Z", fill: "#005787", "data-name": "Path 1397" }),
    h("path", { d: "m59.132 26.893-1.09 2.579c-.327-.3-1.921-.279-1.8-.279h-5.369a.783.783 0 0 0-.773.481c-.12.259-.269.7-.288.749-.106.288.259.355.48.355h4.975s2.622 0 1.815 2.32L55.9 36.166c-1 2.536-1.551 2.4-3.573 2.4H41.7l1.11-2.881a4.25 4.25 0 0 0 1.148.4 15.2 15.2 0 0 0 1.848.072H49.8a3.325 3.325 0 0 0 .874-.043.481.481 0 0 0 .356-.326c.038-.116.3-.788.355-.922.173-.442-.278-.437-.523-.437h-5.244c-1.076 0-2.229-.024-1.571-1.921L45.3 29.29c.321-.8.874-2.4 4.519-2.4Z", fill: "#005787", "data-name": "Path 1398" }),
    h("g", { "data-name": "Group 783" },
      h("g", { "data-name": "Group 782", opacity: ".57" },
        h("g", { "clip-path": "url(#f)", fill: "#1a2848", "data-name": "Group 781", transform: "translate(-413)" },
          h("path", { d: "M426.918 26.893h8.024a3.9 3.9 0 0 1 1.441.255 1.959 1.959 0 0 1 .913.706c.331.48.292 1.263-.121 2.4l-1.844 4.975a4.4 4.4 0 0 1-3.1 3.073 5.418 5.418 0 0 1-1.623.255H422.6a3.79 3.79 0 0 1-1.44-.255 1.919 1.919 0 0 1-.932-.686q-.5-.692.115-2.4l1.854-4.961a4.866 4.866 0 0 1 1.657-2.4 5.135 5.135 0 0 1 1.441-.682 5.581 5.581 0 0 1 1.623-.255m-1.1 7.535c-.24.735-.043 1.364.869 1.364h1.868a1.782 1.782 0 0 0 1.883-1.364l1.388-3.789c.293-.807.384-1.441-.884-1.441h-2.084c-1.23 0-1.628 1.215-3.04 5.249", "data-name": "Path 1399" }),
          h("path", { d: "m444.332 34.375-.9 2.43a2.2 2.2 0 0 0-.058 1.734h-6.3a4.182 4.182 0 0 0 1.234-1.734l3.035-8.164a2.256 2.256 0 0 0 .062-1.719h11.223c2.67 0 3.227.773 2.771 2.262l-1.047 2.737c-.662 1.513-1.488 2.473-4.495 2.473Zm.72-1.921h2.641c1.258 0 1.321-.187 1.763-1.095l.3-.8c.577-1.34-.091-1.34-.6-1.34h-2.91Z", "data-name": "Path 1400" }),
          h("path", { d: "m472.132 26.893-1.09 2.579c-.327-.3-1.921-.279-1.8-.279h-5.369a.783.783 0 0 0-.773.481c-.12.259-.269.7-.288.749-.106.288.259.355.48.355h4.975s2.622 0 1.815 2.32l-1.182 3.068c-1 2.536-1.551 2.4-3.573 2.4H454.7l1.11-2.881a4.25 4.25 0 0 0 1.148.4 15.2 15.2 0 0 0 1.848.072h3.994a3.325 3.325 0 0 0 .874-.043.481.481 0 0 0 .356-.326c.038-.116.3-.788.355-.922.173-.442-.278-.437-.523-.437h-5.244c-1.076 0-2.229-.024-1.571-1.921l1.253-3.218c.321-.8.874-2.4 4.519-2.4Z", "data-name": "Path 1401" })))),
    h("g", { "clip-path": "url(#g)", "data-name": "Group 786", transform: "translate(-413)" },
      h("path", { transform: "translate(412.88 2.103)", fill: "url(#h)", "data-name": "Rectangle 3263", d: "M0 0h65.384v62.819H0z" })))));

var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};

function getDefaultExportFromCjs (x) {
	return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;
}

function createCommonjsModule(fn, basedir, module) {
	return module = {
		path: basedir,
		exports: {},
		require: function (path, base) {
			return commonjsRequire(path, (base === undefined || base === null) ? module.path : base);
		}
	}, fn(module, module.exports), module.exports;
}

function getDefaultExportFromNamespaceIfPresent (n) {
	return n && Object.prototype.hasOwnProperty.call(n, 'default') ? n['default'] : n;
}

function getDefaultExportFromNamespaceIfNotNamed (n) {
	return n && Object.prototype.hasOwnProperty.call(n, 'default') && Object.keys(n).length === 1 ? n['default'] : n;
}

function getAugmentedNamespace(n) {
	if (n.__esModule) return n;
	var a = Object.defineProperty({}, '__esModule', {value: true});
	Object.keys(n).forEach(function (k) {
		var d = Object.getOwnPropertyDescriptor(n, k);
		Object.defineProperty(a, k, d.get ? d : {
			enumerable: true,
			get: function () {
				return n[k];
			}
		});
	});
	return a;
}

function commonjsRequire () {
	throw new Error('Dynamic requires are not currently supported by @rollup/plugin-commonjs');
}

/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Reflect$1;
(function (Reflect) {
    // Metadata Proposal
    // https://rbuckton.github.io/reflect-metadata/
    (function (factory) {
        var root = typeof commonjsGlobal === "object" ? commonjsGlobal :
            typeof self === "object" ? self :
                typeof this === "object" ? this :
                    Function("return this;")();
        var exporter = makeExporter(Reflect);
        if (typeof root.Reflect === "undefined") {
            root.Reflect = Reflect;
        }
        else {
            exporter = makeExporter(root.Reflect, exporter);
        }
        factory(exporter);
        function makeExporter(target, previous) {
            return function (key, value) {
                if (typeof target[key] !== "function") {
                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });
                }
                if (previous)
                    previous(key, value);
            };
        }
    })(function (exporter) {
        var hasOwn = Object.prototype.hasOwnProperty;
        // feature test for Symbol support
        var supportsSymbol = typeof Symbol === "function";
        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== "undefined" ? Symbol.toPrimitive : "@@toPrimitive";
        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== "undefined" ? Symbol.iterator : "@@iterator";
        var supportsCreate = typeof Object.create === "function"; // feature test for Object.create support
        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support
        var downLevel = !supportsCreate && !supportsProto;
        var HashMap = {
            // create an object in dictionary mode (a.k.a. "slow" mode in v8)
            create: supportsCreate
                ? function () { return MakeDictionary(Object.create(null)); }
                : supportsProto
                    ? function () { return MakeDictionary({ __proto__: null }); }
                    : function () { return MakeDictionary({}); },
            has: downLevel
                ? function (map, key) { return hasOwn.call(map, key); }
                : function (map, key) { return key in map; },
            get: downLevel
                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }
                : function (map, key) { return map[key]; },
        };
        // Load global or shim versions of Map, Set, and WeakMap
        var functionPrototype = Object.getPrototypeOf(Function);
        var usePolyfill = typeof process === "object" && process.env && process.env["REFLECT_METADATA_USE_MAP_POLYFILL"] === "true";
        var _Map = !usePolyfill && typeof Map === "function" && typeof Map.prototype.entries === "function" ? Map : CreateMapPolyfill();
        var _Set = !usePolyfill && typeof Set === "function" && typeof Set.prototype.entries === "function" ? Set : CreateSetPolyfill();
        var _WeakMap = !usePolyfill && typeof WeakMap === "function" ? WeakMap : CreateWeakMapPolyfill();
        // [[Metadata]] internal slot
        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots
        var Metadata = new _WeakMap();
        /**
         * Applies a set of decorators to a property of a target object.
         * @param decorators An array of decorators.
         * @param target The target object.
         * @param propertyKey (Optional) The property key to decorate.
         * @param attributes (Optional) The property descriptor for the target key.
         * @remarks Decorators are applied in reverse order.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     Example = Reflect.decorate(decoratorsArray, Example);
         *
         *     // property (on constructor)
         *     Reflect.decorate(decoratorsArray, Example, "staticProperty");
         *
         *     // property (on prototype)
         *     Reflect.decorate(decoratorsArray, Example.prototype, "property");
         *
         *     // method (on constructor)
         *     Object.defineProperty(Example, "staticMethod",
         *         Reflect.decorate(decoratorsArray, Example, "staticMethod",
         *             Object.getOwnPropertyDescriptor(Example, "staticMethod")));
         *
         *     // method (on prototype)
         *     Object.defineProperty(Example.prototype, "method",
         *         Reflect.decorate(decoratorsArray, Example.prototype, "method",
         *             Object.getOwnPropertyDescriptor(Example.prototype, "method")));
         *
         */
        function decorate(decorators, target, propertyKey, attributes) {
            if (!IsUndefined(propertyKey)) {
                if (!IsArray(decorators))
                    throw new TypeError();
                if (!IsObject(target))
                    throw new TypeError();
                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))
                    throw new TypeError();
                if (IsNull(attributes))
                    attributes = undefined;
                propertyKey = ToPropertyKey(propertyKey);
                return DecorateProperty(decorators, target, propertyKey, attributes);
            }
            else {
                if (!IsArray(decorators))
                    throw new TypeError();
                if (!IsConstructor(target))
                    throw new TypeError();
                return DecorateConstructor(decorators, target);
            }
        }
        exporter("decorate", decorate);
        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)
        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata
        /**
         * A default metadata decorator factory that can be used on a class, class member, or parameter.
         * @param metadataKey The key for the metadata entry.
         * @param metadataValue The value for the metadata entry.
         * @returns A decorator function.
         * @remarks
         * If `metadataKey` is already defined for the target and target key, the
         * metadataValue for that key will be overwritten.
         * @example
         *
         *     // constructor
         *     @Reflect.metadata(key, value)
         *     class Example {
         *     }
         *
         *     // property (on constructor, TypeScript only)
         *     class Example {
         *         @Reflect.metadata(key, value)
         *         static staticProperty;
         *     }
         *
         *     // property (on prototype, TypeScript only)
         *     class Example {
         *         @Reflect.metadata(key, value)
         *         property;
         *     }
         *
         *     // method (on constructor)
         *     class Example {
         *         @Reflect.metadata(key, value)
         *         static staticMethod() { }
         *     }
         *
         *     // method (on prototype)
         *     class Example {
         *         @Reflect.metadata(key, value)
         *         method() { }
         *     }
         *
         */
        function metadata(metadataKey, metadataValue) {
            function decorator(target, propertyKey) {
                if (!IsObject(target))
                    throw new TypeError();
                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))
                    throw new TypeError();
                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
            }
            return decorator;
        }
        exporter("metadata", metadata);
        /**
         * Define a unique metadata entry on the target.
         * @param metadataKey A key used to store and retrieve metadata.
         * @param metadataValue A value that contains attached metadata.
         * @param target The target object on which to define metadata.
         * @param propertyKey (Optional) The property key for the target.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     Reflect.defineMetadata("custom:annotation", options, Example);
         *
         *     // property (on constructor)
         *     Reflect.defineMetadata("custom:annotation", options, Example, "staticProperty");
         *
         *     // property (on prototype)
         *     Reflect.defineMetadata("custom:annotation", options, Example.prototype, "property");
         *
         *     // method (on constructor)
         *     Reflect.defineMetadata("custom:annotation", options, Example, "staticMethod");
         *
         *     // method (on prototype)
         *     Reflect.defineMetadata("custom:annotation", options, Example.prototype, "method");
         *
         *     // decorator factory as metadata-producing annotation.
         *     function MyAnnotation(options): Decorator {
         *         return (target, key?) => Reflect.defineMetadata("custom:annotation", options, target, key);
         *     }
         *
         */
        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);
        }
        exporter("defineMetadata", defineMetadata);
        /**
         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.
         * @param metadataKey A key used to store and retrieve metadata.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.hasMetadata("custom:annotation", Example);
         *
         *     // property (on constructor)
         *     result = Reflect.hasMetadata("custom:annotation", Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.hasMetadata("custom:annotation", Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.hasMetadata("custom:annotation", Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.hasMetadata("custom:annotation", Example.prototype, "method");
         *
         */
        function hasMetadata(metadataKey, target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryHasMetadata(metadataKey, target, propertyKey);
        }
        exporter("hasMetadata", hasMetadata);
        /**
         * Gets a value indicating whether the target object has the provided metadata key defined.
         * @param metadataKey A key used to store and retrieve metadata.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.hasOwnMetadata("custom:annotation", Example);
         *
         *     // property (on constructor)
         *     result = Reflect.hasOwnMetadata("custom:annotation", Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.hasOwnMetadata("custom:annotation", Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.hasOwnMetadata("custom:annotation", Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.hasOwnMetadata("custom:annotation", Example.prototype, "method");
         *
         */
        function hasOwnMetadata(metadataKey, target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);
        }
        exporter("hasOwnMetadata", hasOwnMetadata);
        /**
         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.
         * @param metadataKey A key used to store and retrieve metadata.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.getMetadata("custom:annotation", Example);
         *
         *     // property (on constructor)
         *     result = Reflect.getMetadata("custom:annotation", Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.getMetadata("custom:annotation", Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.getMetadata("custom:annotation", Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.getMetadata("custom:annotation", Example.prototype, "method");
         *
         */
        function getMetadata(metadataKey, target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryGetMetadata(metadataKey, target, propertyKey);
        }
        exporter("getMetadata", getMetadata);
        /**
         * Gets the metadata value for the provided metadata key on the target object.
         * @param metadataKey A key used to store and retrieve metadata.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.getOwnMetadata("custom:annotation", Example);
         *
         *     // property (on constructor)
         *     result = Reflect.getOwnMetadata("custom:annotation", Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.getOwnMetadata("custom:annotation", Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.getOwnMetadata("custom:annotation", Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.getOwnMetadata("custom:annotation", Example.prototype, "method");
         *
         */
        function getOwnMetadata(metadataKey, target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);
        }
        exporter("getOwnMetadata", getOwnMetadata);
        /**
         * Gets the metadata keys defined on the target object or its prototype chain.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns An array of unique metadata keys.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.getMetadataKeys(Example);
         *
         *     // property (on constructor)
         *     result = Reflect.getMetadataKeys(Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.getMetadataKeys(Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.getMetadataKeys(Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.getMetadataKeys(Example.prototype, "method");
         *
         */
        function getMetadataKeys(target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryMetadataKeys(target, propertyKey);
        }
        exporter("getMetadataKeys", getMetadataKeys);
        /**
         * Gets the unique metadata keys defined on the target object.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns An array of unique metadata keys.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.getOwnMetadataKeys(Example);
         *
         *     // property (on constructor)
         *     result = Reflect.getOwnMetadataKeys(Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.getOwnMetadataKeys(Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.getOwnMetadataKeys(Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.getOwnMetadataKeys(Example.prototype, "method");
         *
         */
        function getOwnMetadataKeys(target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            return OrdinaryOwnMetadataKeys(target, propertyKey);
        }
        exporter("getOwnMetadataKeys", getOwnMetadataKeys);
        /**
         * Deletes the metadata entry from the target object with the provided key.
         * @param metadataKey A key used to store and retrieve metadata.
         * @param target The target object on which the metadata is defined.
         * @param propertyKey (Optional) The property key for the target.
         * @returns `true` if the metadata entry was found and deleted; otherwise, false.
         * @example
         *
         *     class Example {
         *         // property declarations are not part of ES6, though they are valid in TypeScript:
         *         // static staticProperty;
         *         // property;
         *
         *         constructor(p) { }
         *         static staticMethod(p) { }
         *         method(p) { }
         *     }
         *
         *     // constructor
         *     result = Reflect.deleteMetadata("custom:annotation", Example);
         *
         *     // property (on constructor)
         *     result = Reflect.deleteMetadata("custom:annotation", Example, "staticProperty");
         *
         *     // property (on prototype)
         *     result = Reflect.deleteMetadata("custom:annotation", Example.prototype, "property");
         *
         *     // method (on constructor)
         *     result = Reflect.deleteMetadata("custom:annotation", Example, "staticMethod");
         *
         *     // method (on prototype)
         *     result = Reflect.deleteMetadata("custom:annotation", Example.prototype, "method");
         *
         */
        function deleteMetadata(metadataKey, target, propertyKey) {
            if (!IsObject(target))
                throw new TypeError();
            if (!IsUndefined(propertyKey))
                propertyKey = ToPropertyKey(propertyKey);
            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);
            if (IsUndefined(metadataMap))
                return false;
            if (!metadataMap.delete(metadataKey))
                return false;
            if (metadataMap.size > 0)
                return true;
            var targetMetadata = Metadata.get(target);
            targetMetadata.delete(propertyKey);
            if (targetMetadata.size > 0)
                return true;
            Metadata.delete(target);
            return true;
        }
        exporter("deleteMetadata", deleteMetadata);
        function DecorateConstructor(decorators, target) {
            for (var i = decorators.length - 1; i >= 0; --i) {
                var decorator = decorators[i];
                var decorated = decorator(target);
                if (!IsUndefined(decorated) && !IsNull(decorated)) {
                    if (!IsConstructor(decorated))
                        throw new TypeError();
                    target = decorated;
                }
            }
            return target;
        }
        function DecorateProperty(decorators, target, propertyKey, descriptor) {
            for (var i = decorators.length - 1; i >= 0; --i) {
                var decorator = decorators[i];
                var decorated = decorator(target, propertyKey, descriptor);
                if (!IsUndefined(decorated) && !IsNull(decorated)) {
                    if (!IsObject(decorated))
                        throw new TypeError();
                    descriptor = decorated;
                }
            }
            return descriptor;
        }
        function GetOrCreateMetadataMap(O, P, Create) {
            var targetMetadata = Metadata.get(O);
            if (IsUndefined(targetMetadata)) {
                if (!Create)
                    return undefined;
                targetMetadata = new _Map();
                Metadata.set(O, targetMetadata);
            }
            var metadataMap = targetMetadata.get(P);
            if (IsUndefined(metadataMap)) {
                if (!Create)
                    return undefined;
                metadataMap = new _Map();
                targetMetadata.set(P, metadataMap);
            }
            return metadataMap;
        }
        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata
        function OrdinaryHasMetadata(MetadataKey, O, P) {
            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);
            if (hasOwn)
                return true;
            var parent = OrdinaryGetPrototypeOf(O);
            if (!IsNull(parent))
                return OrdinaryHasMetadata(MetadataKey, parent, P);
            return false;
        }
        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata
        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {
            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);
            if (IsUndefined(metadataMap))
                return false;
            return ToBoolean(metadataMap.has(MetadataKey));
        }
        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata
        function OrdinaryGetMetadata(MetadataKey, O, P) {
            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);
            if (hasOwn)
                return OrdinaryGetOwnMetadata(MetadataKey, O, P);
            var parent = OrdinaryGetPrototypeOf(O);
            if (!IsNull(parent))
                return OrdinaryGetMetadata(MetadataKey, parent, P);
            return undefined;
        }
        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata
        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {
            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);
            if (IsUndefined(metadataMap))
                return undefined;
            return metadataMap.get(MetadataKey);
        }
        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata
        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {
            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);
            metadataMap.set(MetadataKey, MetadataValue);
        }
        // 3.1.6.1 OrdinaryMetadataKeys(O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys
        function OrdinaryMetadataKeys(O, P) {
            var ownKeys = OrdinaryOwnMetadataKeys(O, P);
            var parent = OrdinaryGetPrototypeOf(O);
            if (parent === null)
                return ownKeys;
            var parentKeys = OrdinaryMetadataKeys(parent, P);
            if (parentKeys.length <= 0)
                return ownKeys;
            if (ownKeys.length <= 0)
                return parentKeys;
            var set = new _Set();
            var keys = [];
            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {
                var key = ownKeys_1[_i];
                var hasKey = set.has(key);
                if (!hasKey) {
                    set.add(key);
                    keys.push(key);
                }
            }
            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {
                var key = parentKeys_1[_a];
                var hasKey = set.has(key);
                if (!hasKey) {
                    set.add(key);
                    keys.push(key);
                }
            }
            return keys;
        }
        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)
        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys
        function OrdinaryOwnMetadataKeys(O, P) {
            var keys = [];
            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);
            if (IsUndefined(metadataMap))
                return keys;
            var keysObj = metadataMap.keys();
            var iterator = GetIterator(keysObj);
            var k = 0;
            while (true) {
                var next = IteratorStep(iterator);
                if (!next) {
                    keys.length = k;
                    return keys;
                }
                var nextValue = IteratorValue(next);
                try {
                    keys[k] = nextValue;
                }
                catch (e) {
                    try {
                        IteratorClose(iterator);
                    }
                    finally {
                        throw e;
                    }
                }
                k++;
            }
        }
        // 6 ECMAScript Data Typ0es and Values
        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values
        function Type(x) {
            if (x === null)
                return 1 /* Null */;
            switch (typeof x) {
                case "undefined": return 0 /* Undefined */;
                case "boolean": return 2 /* Boolean */;
                case "string": return 3 /* String */;
                case "symbol": return 4 /* Symbol */;
                case "number": return 5 /* Number */;
                case "object": return x === null ? 1 /* Null */ : 6 /* Object */;
                default: return 6 /* Object */;
            }
        }
        // 6.1.1 The Undefined Type
        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type
        function IsUndefined(x) {
            return x === undefined;
        }
        // 6.1.2 The Null Type
        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type
        function IsNull(x) {
            return x === null;
        }
        // 6.1.5 The Symbol Type
        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type
        function IsSymbol(x) {
            return typeof x === "symbol";
        }
        // 6.1.7 The Object Type
        // https://tc39.github.io/ecma262/#sec-object-type
        function IsObject(x) {
            return typeof x === "object" ? x !== null : typeof x === "function";
        }
        // 7.1 Type Conversion
        // https://tc39.github.io/ecma262/#sec-type-conversion
        // 7.1.1 ToPrimitive(input [, PreferredType])
        // https://tc39.github.io/ecma262/#sec-toprimitive
        function ToPrimitive(input, PreferredType) {
            switch (Type(input)) {
                case 0 /* Undefined */: return input;
                case 1 /* Null */: return input;
                case 2 /* Boolean */: return input;
                case 3 /* String */: return input;
                case 4 /* Symbol */: return input;
                case 5 /* Number */: return input;
            }
            var hint = PreferredType === 3 /* String */ ? "string" : PreferredType === 5 /* Number */ ? "number" : "default";
            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);
            if (exoticToPrim !== undefined) {
                var result = exoticToPrim.call(input, hint);
                if (IsObject(result))
                    throw new TypeError();
                return result;
            }
            return OrdinaryToPrimitive(input, hint === "default" ? "number" : hint);
        }
        // 7.1.1.1 OrdinaryToPrimitive(O, hint)
        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive
        function OrdinaryToPrimitive(O, hint) {
            if (hint === "string") {
                var toString_1 = O.toString;
                if (IsCallable(toString_1)) {
                    var result = toString_1.call(O);
                    if (!IsObject(result))
                        return result;
                }
                var valueOf = O.valueOf;
                if (IsCallable(valueOf)) {
                    var result = valueOf.call(O);
                    if (!IsObject(result))
                        return result;
                }
            }
            else {
                var valueOf = O.valueOf;
                if (IsCallable(valueOf)) {
                    var result = valueOf.call(O);
                    if (!IsObject(result))
                        return result;
                }
                var toString_2 = O.toString;
                if (IsCallable(toString_2)) {
                    var result = toString_2.call(O);
                    if (!IsObject(result))
                        return result;
                }
            }
            throw new TypeError();
        }
        // 7.1.2 ToBoolean(argument)
        // https://tc39.github.io/ecma262/2016/#sec-toboolean
        function ToBoolean(argument) {
            return !!argument;
        }
        // 7.1.12 ToString(argument)
        // https://tc39.github.io/ecma262/#sec-tostring
        function ToString(argument) {
            return "" + argument;
        }
        // 7.1.14 ToPropertyKey(argument)
        // https://tc39.github.io/ecma262/#sec-topropertykey
        function ToPropertyKey(argument) {
            var key = ToPrimitive(argument, 3 /* String */);
            if (IsSymbol(key))
                return key;
            return ToString(key);
        }
        // 7.2 Testing and Comparison Operations
        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations
        // 7.2.2 IsArray(argument)
        // https://tc39.github.io/ecma262/#sec-isarray
        function IsArray(argument) {
            return Array.isArray
                ? Array.isArray(argument)
                : argument instanceof Object
                    ? argument instanceof Array
                    : Object.prototype.toString.call(argument) === "[object Array]";
        }
        // 7.2.3 IsCallable(argument)
        // https://tc39.github.io/ecma262/#sec-iscallable
        function IsCallable(argument) {
            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.
            return typeof argument === "function";
        }
        // 7.2.4 IsConstructor(argument)
        // https://tc39.github.io/ecma262/#sec-isconstructor
        function IsConstructor(argument) {
            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.
            return typeof argument === "function";
        }
        // 7.2.7 IsPropertyKey(argument)
        // https://tc39.github.io/ecma262/#sec-ispropertykey
        function IsPropertyKey(argument) {
            switch (Type(argument)) {
                case 3 /* String */: return true;
                case 4 /* Symbol */: return true;
                default: return false;
            }
        }
        // 7.3 Operations on Objects
        // https://tc39.github.io/ecma262/#sec-operations-on-objects
        // 7.3.9 GetMethod(V, P)
        // https://tc39.github.io/ecma262/#sec-getmethod
        function GetMethod(V, P) {
            var func = V[P];
            if (func === undefined || func === null)
                return undefined;
            if (!IsCallable(func))
                throw new TypeError();
            return func;
        }
        // 7.4 Operations on Iterator Objects
        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects
        function GetIterator(obj) {
            var method = GetMethod(obj, iteratorSymbol);
            if (!IsCallable(method))
                throw new TypeError(); // from Call
            var iterator = method.call(obj);
            if (!IsObject(iterator))
                throw new TypeError();
            return iterator;
        }
        // 7.4.4 IteratorValue(iterResult)
        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue
        function IteratorValue(iterResult) {
            return iterResult.value;
        }
        // 7.4.5 IteratorStep(iterator)
        // https://tc39.github.io/ecma262/#sec-iteratorstep
        function IteratorStep(iterator) {
            var result = iterator.next();
            return result.done ? false : result;
        }
        // 7.4.6 IteratorClose(iterator, completion)
        // https://tc39.github.io/ecma262/#sec-iteratorclose
        function IteratorClose(iterator) {
            var f = iterator["return"];
            if (f)
                f.call(iterator);
        }
        // 9.1 Ordinary Object Internal Methods and Internal Slots
        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots
        // 9.1.1.1 OrdinaryGetPrototypeOf(O)
        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof
        function OrdinaryGetPrototypeOf(O) {
            var proto = Object.getPrototypeOf(O);
            if (typeof O !== "function" || O === functionPrototype)
                return proto;
            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.
            // Try to determine the superclass constructor. Compatible implementations
            // must either set __proto__ on a subclass constructor to the superclass constructor,
            // or ensure each class has a valid `constructor` property on its prototype that
            // points back to the constructor.
            // If this is not the same as Function.[[Prototype]], then this is definately inherited.
            // This is the case when in ES6 or when using __proto__ in a compatible browser.
            if (proto !== functionPrototype)
                return proto;
            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.
            var prototype = O.prototype;
            var prototypeProto = prototype && Object.getPrototypeOf(prototype);
            if (prototypeProto == null || prototypeProto === Object.prototype)
                return proto;
            // If the constructor was not a function, then we cannot determine the heritage.
            var constructor = prototypeProto.constructor;
            if (typeof constructor !== "function")
                return proto;
            // If we have some kind of self-reference, then we cannot determine the heritage.
            if (constructor === O)
                return proto;
            // we have a pretty good guess at the heritage.
            return constructor;
        }
        // naive Map shim
        function CreateMapPolyfill() {
            var cacheSentinel = {};
            var arraySentinel = [];
            var MapIterator = /** @class */ (function () {
                function MapIterator(keys, values, selector) {
                    this._index = 0;
                    this._keys = keys;
                    this._values = values;
                    this._selector = selector;
                }
                MapIterator.prototype["@@iterator"] = function () { return this; };
                MapIterator.prototype[iteratorSymbol] = function () { return this; };
                MapIterator.prototype.next = function () {
                    var index = this._index;
                    if (index >= 0 && index < this._keys.length) {
                        var result = this._selector(this._keys[index], this._values[index]);
                        if (index + 1 >= this._keys.length) {
                            this._index = -1;
                            this._keys = arraySentinel;
                            this._values = arraySentinel;
                        }
                        else {
                            this._index++;
                        }
                        return { value: result, done: false };
                    }
                    return { value: undefined, done: true };
                };
                MapIterator.prototype.throw = function (error) {
                    if (this._index >= 0) {
                        this._index = -1;
                        this._keys = arraySentinel;
                        this._values = arraySentinel;
                    }
                    throw error;
                };
                MapIterator.prototype.return = function (value) {
                    if (this._index >= 0) {
                        this._index = -1;
                        this._keys = arraySentinel;
                        this._values = arraySentinel;
                    }
                    return { value: value, done: true };
                };
                return MapIterator;
            }());
            return /** @class */ (function () {
                function Map() {
                    this._keys = [];
                    this._values = [];
                    this._cacheKey = cacheSentinel;
                    this._cacheIndex = -2;
                }
                Object.defineProperty(Map.prototype, "size", {
                    get: function () { return this._keys.length; },
                    enumerable: true,
                    configurable: true
                });
                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };
                Map.prototype.get = function (key) {
                    var index = this._find(key, /*insert*/ false);
                    return index >= 0 ? this._values[index] : undefined;
                };
                Map.prototype.set = function (key, value) {
                    var index = this._find(key, /*insert*/ true);
                    this._values[index] = value;
                    return this;
                };
                Map.prototype.delete = function (key) {
                    var index = this._find(key, /*insert*/ false);
                    if (index >= 0) {
                        var size = this._keys.length;
                        for (var i = index + 1; i < size; i++) {
                            this._keys[i - 1] = this._keys[i];
                            this._values[i - 1] = this._values[i];
                        }
                        this._keys.length--;
                        this._values.length--;
                        if (key === this._cacheKey) {
                            this._cacheKey = cacheSentinel;
                            this._cacheIndex = -2;
                        }
                        return true;
                    }
                    return false;
                };
                Map.prototype.clear = function () {
                    this._keys.length = 0;
                    this._values.length = 0;
                    this._cacheKey = cacheSentinel;
                    this._cacheIndex = -2;
                };
                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };
                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };
                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };
                Map.prototype["@@iterator"] = function () { return this.entries(); };
                Map.prototype[iteratorSymbol] = function () { return this.entries(); };
                Map.prototype._find = function (key, insert) {
                    if (this._cacheKey !== key) {
                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);
                    }
                    if (this._cacheIndex < 0 && insert) {
                        this._cacheIndex = this._keys.length;
                        this._keys.push(key);
                        this._values.push(undefined);
                    }
                    return this._cacheIndex;
                };
                return Map;
            }());
            function getKey(key, _) {
                return key;
            }
            function getValue(_, value) {
                return value;
            }
            function getEntry(key, value) {
                return [key, value];
            }
        }
        // naive Set shim
        function CreateSetPolyfill() {
            return /** @class */ (function () {
                function Set() {
                    this._map = new _Map();
                }
                Object.defineProperty(Set.prototype, "size", {
                    get: function () { return this._map.size; },
                    enumerable: true,
                    configurable: true
                });
                Set.prototype.has = function (value) { return this._map.has(value); };
                Set.prototype.add = function (value) { return this._map.set(value, value), this; };
                Set.prototype.delete = function (value) { return this._map.delete(value); };
                Set.prototype.clear = function () { this._map.clear(); };
                Set.prototype.keys = function () { return this._map.keys(); };
                Set.prototype.values = function () { return this._map.values(); };
                Set.prototype.entries = function () { return this._map.entries(); };
                Set.prototype["@@iterator"] = function () { return this.keys(); };
                Set.prototype[iteratorSymbol] = function () { return this.keys(); };
                return Set;
            }());
        }
        // naive WeakMap shim
        function CreateWeakMapPolyfill() {
            var UUID_SIZE = 16;
            var keys = HashMap.create();
            var rootKey = CreateUniqueKey();
            return /** @class */ (function () {
                function WeakMap() {
                    this._key = CreateUniqueKey();
                }
                WeakMap.prototype.has = function (target) {
                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);
                    return table !== undefined ? HashMap.has(table, this._key) : false;
                };
                WeakMap.prototype.get = function (target) {
                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);
                    return table !== undefined ? HashMap.get(table, this._key) : undefined;
                };
                WeakMap.prototype.set = function (target, value) {
                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);
                    table[this._key] = value;
                    return this;
                };
                WeakMap.prototype.delete = function (target) {
                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);
                    return table !== undefined ? delete table[this._key] : false;
                };
                WeakMap.prototype.clear = function () {
                    // NOTE: not a real clear, just makes the previous data unreachable
                    this._key = CreateUniqueKey();
                };
                return WeakMap;
            }());
            function CreateUniqueKey() {
                var key;
                do
                    key = "@@WeakMap@@" + CreateUUID();
                while (HashMap.has(keys, key));
                keys[key] = true;
                return key;
            }
            function GetOrCreateWeakMapTable(target, create) {
                if (!hasOwn.call(target, rootKey)) {
                    if (!create)
                        return undefined;
                    Object.defineProperty(target, rootKey, { value: HashMap.create() });
                }
                return target[rootKey];
            }
            function FillRandomBytes(buffer, size) {
                for (var i = 0; i < size; ++i)
                    buffer[i] = Math.random() * 0xff | 0;
                return buffer;
            }
            function GenRandomBytes(size) {
                if (typeof Uint8Array === "function") {
                    if (typeof crypto !== "undefined")
                        return crypto.getRandomValues(new Uint8Array(size));
                    if (typeof msCrypto !== "undefined")
                        return msCrypto.getRandomValues(new Uint8Array(size));
                    return FillRandomBytes(new Uint8Array(size), size);
                }
                return FillRandomBytes(new Array(size), size);
            }
            function CreateUUID() {
                var data = GenRandomBytes(UUID_SIZE);
                // mark as random - RFC 4122  4.4
                data[6] = data[6] & 0x4f | 0x40;
                data[8] = data[8] & 0xbf | 0x80;
                var result = "";
                for (var offset = 0; offset < UUID_SIZE; ++offset) {
                    var byte = data[offset];
                    if (offset === 4 || offset === 6 || offset === 8)
                        result += "-";
                    if (byte < 16)
                        result += "0";
                    result += byte.toString(16).toLowerCase();
                }
                return result;
            }
        }
        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.
        function MakeDictionary(obj) {
            obj.__ = undefined;
            delete obj.__;
            return obj;
        }
    });
})(Reflect$1 || (Reflect$1 = {}));

var _Reflect = {

};

var NAMED_TAG = "named";
var NAME_TAG = "name";
var UNMANAGED_TAG = "unmanaged";
var OPTIONAL_TAG = "optional";
var INJECT_TAG = "inject";
var MULTI_INJECT_TAG = "multi_inject";
var TAGGED = "inversify:tagged";
var TAGGED_PROP = "inversify:tagged_props";
var PARAM_TYPES = "inversify:paramtypes";
var DESIGN_PARAM_TYPES = "design:paramtypes";
var POST_CONSTRUCT = "post_construct";
var PRE_DESTROY = "pre_destroy";
function getNonCustomTagKeys() {
    return [
        INJECT_TAG,
        MULTI_INJECT_TAG,
        NAME_TAG,
        UNMANAGED_TAG,
        NAMED_TAG,
        OPTIONAL_TAG,
    ];
}
var NON_CUSTOM_TAG_KEYS = getNonCustomTagKeys();

const keys = /*#__PURE__*/Object.freeze({
  __proto__: null,
  NAMED_TAG: NAMED_TAG,
  NAME_TAG: NAME_TAG,
  UNMANAGED_TAG: UNMANAGED_TAG,
  OPTIONAL_TAG: OPTIONAL_TAG,
  INJECT_TAG: INJECT_TAG,
  MULTI_INJECT_TAG: MULTI_INJECT_TAG,
  TAGGED: TAGGED,
  TAGGED_PROP: TAGGED_PROP,
  PARAM_TYPES: PARAM_TYPES,
  DESIGN_PARAM_TYPES: DESIGN_PARAM_TYPES,
  POST_CONSTRUCT: POST_CONSTRUCT,
  PRE_DESTROY: PRE_DESTROY,
  NON_CUSTOM_TAG_KEYS: NON_CUSTOM_TAG_KEYS
});

var BindingScopeEnum = {
    Request: "Request",
    Singleton: "Singleton",
    Transient: "Transient"
};
var BindingTypeEnum = {
    ConstantValue: "ConstantValue",
    Constructor: "Constructor",
    DynamicValue: "DynamicValue",
    Factory: "Factory",
    Function: "Function",
    Instance: "Instance",
    Invalid: "Invalid",
    Provider: "Provider"
};
var TargetTypeEnum = {
    ClassProperty: "ClassProperty",
    ConstructorArgument: "ConstructorArgument",
    Variable: "Variable"
};

var idCounter = 0;
function id() {
    return idCounter++;
}

var Binding = (function () {
    function Binding(serviceIdentifier, scope) {
        this.id = id();
        this.activated = false;
        this.serviceIdentifier = serviceIdentifier;
        this.scope = scope;
        this.type = BindingTypeEnum.Invalid;
        this.constraint = function (request) { return true; };
        this.implementationType = null;
        this.cache = null;
        this.factory = null;
        this.provider = null;
        this.onActivation = null;
        this.onDeactivation = null;
        this.dynamicValue = null;
    }
    Binding.prototype.clone = function () {
        var clone = new Binding(this.serviceIdentifier, this.scope);
        clone.activated = (clone.scope === BindingScopeEnum.Singleton) ? this.activated : false;
        clone.implementationType = this.implementationType;
        clone.dynamicValue = this.dynamicValue;
        clone.scope = this.scope;
        clone.type = this.type;
        clone.factory = this.factory;
        clone.provider = this.provider;
        clone.constraint = this.constraint;
        clone.onActivation = this.onActivation;
        clone.onDeactivation = this.onDeactivation;
        clone.cache = this.cache;
        return clone;
    };
    return Binding;
}());

var DUPLICATED_INJECTABLE_DECORATOR = "Cannot apply @injectable decorator multiple times.";
var DUPLICATED_METADATA = "Metadata key was used more than once in a parameter:";
var NULL_ARGUMENT = "NULL argument";
var KEY_NOT_FOUND = "Key Not Found";
var AMBIGUOUS_MATCH = "Ambiguous match found for serviceIdentifier:";
var CANNOT_UNBIND = "Could not unbind serviceIdentifier:";
var NOT_REGISTERED = "No matching bindings found for serviceIdentifier:";
var MISSING_INJECTABLE_ANNOTATION = "Missing required @injectable annotation in:";
var MISSING_INJECT_ANNOTATION = "Missing required @inject or @multiInject annotation in:";
var UNDEFINED_INJECT_ANNOTATION = function (name) {
    return "@inject called with undefined this could mean that the class " + name + " has " +
        "a circular dependency problem. You can use a LazyServiceIdentifer to  " +
        "overcome this limitation.";
};
var CIRCULAR_DEPENDENCY = "Circular dependency found:";
var NOT_IMPLEMENTED = "Sorry, this feature is not fully implemented yet.";
var INVALID_BINDING_TYPE = "Invalid binding type:";
var NO_MORE_SNAPSHOTS_AVAILABLE = "No snapshot available to restore.";
var INVALID_MIDDLEWARE_RETURN = "Invalid return type in middleware. Middleware must return!";
var INVALID_FUNCTION_BINDING = "Value provided to function binding must be a function!";
var LAZY_IN_SYNC = function (key) { return "You are attempting to construct '" + key + "' in a synchronous way\n but it has asynchronous dependencies."; };
var INVALID_TO_SELF_VALUE = "The toSelf function can only be applied when a constructor is " +
    "used as service identifier";
var INVALID_DECORATOR_OPERATION = "The @inject @multiInject @tagged and @named decorators " +
    "must be applied to the parameters of a class constructor or a class property.";
var ARGUMENTS_LENGTH_MISMATCH = function () {
    var values = [];
    for (var _i = 0; _i < arguments.length; _i++) {
        values[_i] = arguments[_i];
    }
    return "The number of constructor arguments in the derived class " +
        (values[0] + " must be >= than the number of constructor arguments of its base class.");
};
var CONTAINER_OPTIONS_MUST_BE_AN_OBJECT = "Invalid Container constructor argument. Container options " +
    "must be an object.";
var CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE = "Invalid Container option. Default scope must " +
    "be a string ('singleton' or 'transient').";
var CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE = "Invalid Container option. Auto bind injectable must " +
    "be a boolean";
var CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK = "Invalid Container option. Skip base check must " +
    "be a boolean";
var MULTIPLE_PRE_DESTROY_METHODS = "Cannot apply @preDestroy decorator multiple times in the same class";
var MULTIPLE_POST_CONSTRUCT_METHODS = "Cannot apply @postConstruct decorator multiple times in the same class";
var ASYNC_UNBIND_REQUIRED = "Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";
var POST_CONSTRUCT_ERROR = function (clazz, errorMessage) { return "@postConstruct error in class " + clazz + ": " + errorMessage; };
var PRE_DESTROY_ERROR = function (clazz, errorMessage) { return "@preDestroy error in class " + clazz + ": " + errorMessage; };
var ON_DEACTIVATION_ERROR = function (clazz, errorMessage) { return "onDeactivation() error in class " + clazz + ": " + errorMessage; };
var CIRCULAR_DEPENDENCY_IN_FACTORY = function (factoryType, serviceIdentifier) {
    return "It looks like there is a circular dependency in one of the '" + factoryType + "' bindings. Please investigate bindings with" +
        ("service identifier '" + serviceIdentifier + "'.");
};
var STACK_OVERFLOW = "Maximum call stack size exceeded";

var MetadataReader = (function () {
    function MetadataReader() {
    }
    MetadataReader.prototype.getConstructorMetadata = function (constructorFunc) {
        var compilerGeneratedMetadata = Reflect.getMetadata(PARAM_TYPES, constructorFunc);
        var userGeneratedMetadata = Reflect.getMetadata(TAGGED, constructorFunc);
        return {
            compilerGeneratedMetadata: compilerGeneratedMetadata,
            userGeneratedMetadata: userGeneratedMetadata || {}
        };
    };
    MetadataReader.prototype.getPropertiesMetadata = function (constructorFunc) {
        var userGeneratedMetadata = Reflect.getMetadata(TAGGED_PROP, constructorFunc) || [];
        return userGeneratedMetadata;
    };
    return MetadataReader;
}());

var BindingCount = {
    MultipleBindingsAvailable: 2,
    NoBindingsAvailable: 0,
    OnlyOneBindingAvailable: 1
};

function isStackOverflowExeption(error) {
    return (error instanceof RangeError ||
        error.message === STACK_OVERFLOW);
}
var tryAndThrowErrorIfStackOverflow = function (fn, errorCallback) {
    try {
        return fn();
    }
    catch (error) {
        if (isStackOverflowExeption(error)) {
            error = errorCallback();
        }
        throw error;
    }
};

function getServiceIdentifierAsString(serviceIdentifier) {
    if (typeof serviceIdentifier === "function") {
        var _serviceIdentifier = serviceIdentifier;
        return _serviceIdentifier.name;
    }
    else if (typeof serviceIdentifier === "symbol") {
        return serviceIdentifier.toString();
    }
    else {
        var _serviceIdentifier = serviceIdentifier;
        return _serviceIdentifier;
    }
}
function listRegisteredBindingsForServiceIdentifier(container, serviceIdentifier, getBindings) {
    var registeredBindingsList = "";
    var registeredBindings = getBindings(container, serviceIdentifier);
    if (registeredBindings.length !== 0) {
        registeredBindingsList = "\nRegistered bindings:";
        registeredBindings.forEach(function (binding) {
            var name = "Object";
            if (binding.implementationType !== null) {
                name = getFunctionName(binding.implementationType);
            }
            registeredBindingsList = registeredBindingsList + "\n " + name;
            if (binding.constraint.metaData) {
                registeredBindingsList = registeredBindingsList + " - " + binding.constraint.metaData;
            }
        });
    }
    return registeredBindingsList;
}
function alreadyDependencyChain(request, serviceIdentifier) {
    if (request.parentRequest === null) {
        return false;
    }
    else if (request.parentRequest.serviceIdentifier === serviceIdentifier) {
        return true;
    }
    else {
        return alreadyDependencyChain(request.parentRequest, serviceIdentifier);
    }
}
function dependencyChainToString(request) {
    function _createStringArr(req, result) {
        if (result === void 0) { result = []; }
        var serviceIdentifier = getServiceIdentifierAsString(req.serviceIdentifier);
        result.push(serviceIdentifier);
        if (req.parentRequest !== null) {
            return _createStringArr(req.parentRequest, result);
        }
        return result;
    }
    var stringArr = _createStringArr(request);
    return stringArr.reverse().join(" --> ");
}
function circularDependencyToException(request) {
    request.childRequests.forEach(function (childRequest) {
        if (alreadyDependencyChain(childRequest, childRequest.serviceIdentifier)) {
            var services = dependencyChainToString(childRequest);
            throw new Error(CIRCULAR_DEPENDENCY + " " + services);
        }
        else {
            circularDependencyToException(childRequest);
        }
    });
}
function listMetadataForTarget(serviceIdentifierString, target) {
    if (target.isTagged() || target.isNamed()) {
        var m_1 = "";
        var namedTag = target.getNamedTag();
        var otherTags = target.getCustomTags();
        if (namedTag !== null) {
            m_1 += namedTag.toString() + "\n";
        }
        if (otherTags !== null) {
            otherTags.forEach(function (tag) {
                m_1 += tag.toString() + "\n";
            });
        }
        return " " + serviceIdentifierString + "\n " + serviceIdentifierString + " - " + m_1;
    }
    else {
        return " " + serviceIdentifierString;
    }
}
function getFunctionName(func) {
    if (func.name) {
        return func.name;
    }
    else {
        var name_1 = func.toString();
        var match = name_1.match(/^function\s*([^\s(]+)/);
        return match ? match[1] : "Anonymous function: " + name_1;
    }
}
function getSymbolDescription(symbol) {
    return symbol.toString().slice(7, -1);
}

var Context = (function () {
    function Context(container) {
        this.id = id();
        this.container = container;
    }
    Context.prototype.addPlan = function (plan) {
        this.plan = plan;
    };
    Context.prototype.setCurrentRequest = function (currentRequest) {
        this.currentRequest = currentRequest;
    };
    return Context;
}());

var Metadata = (function () {
    function Metadata(key, value) {
        this.key = key;
        this.value = value;
    }
    Metadata.prototype.toString = function () {
        if (this.key === NAMED_TAG) {
            return "named: " + String(this.value).toString() + " ";
        }
        else {
            return "tagged: { key:" + this.key.toString() + ", value: " + String(this.value) + " }";
        }
    };
    return Metadata;
}());

var Plan = (function () {
    function Plan(parentContext, rootRequest) {
        this.parentContext = parentContext;
        this.rootRequest = rootRequest;
    }
    return Plan;
}());

var LazyServiceIdentifer = (function () {
    function LazyServiceIdentifer(cb) {
        this._cb = cb;
    }
    LazyServiceIdentifer.prototype.unwrap = function () {
        return this._cb();
    };
    return LazyServiceIdentifer;
}());

var QueryableString = (function () {
    function QueryableString(str) {
        this.str = str;
    }
    QueryableString.prototype.startsWith = function (searchString) {
        return this.str.indexOf(searchString) === 0;
    };
    QueryableString.prototype.endsWith = function (searchString) {
        var reverseString = "";
        var reverseSearchString = searchString.split("").reverse().join("");
        reverseString = this.str.split("").reverse().join("");
        return this.startsWith.call({ str: reverseString }, reverseSearchString);
    };
    QueryableString.prototype.contains = function (searchString) {
        return (this.str.indexOf(searchString) !== -1);
    };
    QueryableString.prototype.equals = function (compareString) {
        return this.str === compareString;
    };
    QueryableString.prototype.value = function () {
        return this.str;
    };
    return QueryableString;
}());

var Target = (function () {
    function Target(type, identifier, serviceIdentifier, namedOrTagged) {
        this.id = id();
        this.type = type;
        this.serviceIdentifier = serviceIdentifier;
        var queryableName = typeof identifier === 'symbol' ? getSymbolDescription(identifier) : identifier;
        this.name = new QueryableString(queryableName || "");
        this.identifier = identifier;
        this.metadata = new Array();
        var metadataItem = null;
        if (typeof namedOrTagged === 'string') {
            metadataItem = new Metadata(NAMED_TAG, namedOrTagged);
        }
        else if (namedOrTagged instanceof Metadata) {
            metadataItem = namedOrTagged;
        }
        if (metadataItem !== null) {
            this.metadata.push(metadataItem);
        }
    }
    Target.prototype.hasTag = function (key) {
        for (var _i = 0, _a = this.metadata; _i < _a.length; _i++) {
            var m = _a[_i];
            if (m.key === key) {
                return true;
            }
        }
        return false;
    };
    Target.prototype.isArray = function () {
        return this.hasTag(MULTI_INJECT_TAG);
    };
    Target.prototype.matchesArray = function (name) {
        return this.matchesTag(MULTI_INJECT_TAG)(name);
    };
    Target.prototype.isNamed = function () {
        return this.hasTag(NAMED_TAG);
    };
    Target.prototype.isTagged = function () {
        return this.metadata.some(function (metadata) { return NON_CUSTOM_TAG_KEYS.every(function (key) { return metadata.key !== key; }); });
    };
    Target.prototype.isOptional = function () {
        return this.matchesTag(OPTIONAL_TAG)(true);
    };
    Target.prototype.getNamedTag = function () {
        if (this.isNamed()) {
            return this.metadata.filter(function (m) { return m.key === NAMED_TAG; })[0];
        }
        return null;
    };
    Target.prototype.getCustomTags = function () {
        if (this.isTagged()) {
            return this.metadata.filter(function (metadata) { return NON_CUSTOM_TAG_KEYS.every(function (key) { return metadata.key !== key; }); });
        }
        else {
            return null;
        }
    };
    Target.prototype.matchesNamedTag = function (name) {
        return this.matchesTag(NAMED_TAG)(name);
    };
    Target.prototype.matchesTag = function (key) {
        var _this = this;
        return function (value) {
            for (var _i = 0, _a = _this.metadata; _i < _a.length; _i++) {
                var m = _a[_i];
                if (m.key === key && m.value === value) {
                    return true;
                }
            }
            return false;
        };
    };
    return Target;
}());

var __spreadArray$2 = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
function getDependencies(metadataReader, func) {
    var constructorName = getFunctionName(func);
    return getTargets(metadataReader, constructorName, func, false);
}
function getTargets(metadataReader, constructorName, func, isBaseClass) {
    var metadata = metadataReader.getConstructorMetadata(func);
    var serviceIdentifiers = metadata.compilerGeneratedMetadata;
    if (serviceIdentifiers === undefined) {
        var msg = MISSING_INJECTABLE_ANNOTATION + " " + constructorName + ".";
        throw new Error(msg);
    }
    var constructorArgsMetadata = metadata.userGeneratedMetadata;
    var keys = Object.keys(constructorArgsMetadata);
    var hasUserDeclaredUnknownInjections = (func.length === 0 && keys.length > 0);
    var hasOptionalParameters = keys.length > func.length;
    var iterations = (hasUserDeclaredUnknownInjections || hasOptionalParameters) ? keys.length : func.length;
    var constructorTargets = getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations);
    var propertyTargets = getClassPropsAsTargets(metadataReader, func, constructorName);
    var targets = __spreadArray$2(__spreadArray$2([], constructorTargets, true), propertyTargets, true);
    return targets;
}
function getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata) {
    var targetMetadata = constructorArgsMetadata[index.toString()] || [];
    var metadata = formatTargetMetadata(targetMetadata);
    var isManaged = metadata.unmanaged !== true;
    var serviceIdentifier = serviceIdentifiers[index];
    var injectIdentifier = (metadata.inject || metadata.multiInject);
    serviceIdentifier = (injectIdentifier) ? (injectIdentifier) : serviceIdentifier;
    if (serviceIdentifier instanceof LazyServiceIdentifer) {
        serviceIdentifier = serviceIdentifier.unwrap();
    }
    if (isManaged) {
        var isObject = serviceIdentifier === Object;
        var isFunction = serviceIdentifier === Function;
        var isUndefined = serviceIdentifier === undefined;
        var isUnknownType = (isObject || isFunction || isUndefined);
        if (!isBaseClass && isUnknownType) {
            var msg = MISSING_INJECT_ANNOTATION + " argument " + index + " in class " + constructorName + ".";
            throw new Error(msg);
        }
        var target = new Target(TargetTypeEnum.ConstructorArgument, metadata.targetName, serviceIdentifier);
        target.metadata = targetMetadata;
        return target;
    }
    return null;
}
function getConstructorArgsAsTargets(isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata, iterations) {
    var targets = [];
    for (var i = 0; i < iterations; i++) {
        var index = i;
        var target = getConstructorArgsAsTarget(index, isBaseClass, constructorName, serviceIdentifiers, constructorArgsMetadata);
        if (target !== null) {
            targets.push(target);
        }
    }
    return targets;
}
function _getServiceIdentifierForProperty(inject, multiInject, propertyName, className) {
    var serviceIdentifier = (inject || multiInject);
    if (serviceIdentifier === undefined) {
        var msg = MISSING_INJECTABLE_ANNOTATION + " for property " + String(propertyName) + " in class " + className + ".";
        throw new Error(msg);
    }
    return serviceIdentifier;
}
function getClassPropsAsTargets(metadataReader, constructorFunc, constructorName) {
    var classPropsMetadata = metadataReader.getPropertiesMetadata(constructorFunc);
    var targets = [];
    var symbolKeys = Object.getOwnPropertySymbols(classPropsMetadata);
    var stringKeys = Object.keys(classPropsMetadata);
    var keys = stringKeys.concat(symbolKeys);
    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {
        var key = keys_1[_i];
        var targetMetadata = classPropsMetadata[key];
        var metadata = formatTargetMetadata(targetMetadata);
        var identifier = metadata.targetName || key;
        var serviceIdentifier = _getServiceIdentifierForProperty(metadata.inject, metadata.multiInject, key, constructorName);
        var target = new Target(TargetTypeEnum.ClassProperty, identifier, serviceIdentifier);
        target.metadata = targetMetadata;
        targets.push(target);
    }
    var baseConstructor = Object.getPrototypeOf(constructorFunc.prototype).constructor;
    if (baseConstructor !== Object) {
        var baseTargets = getClassPropsAsTargets(metadataReader, baseConstructor, constructorName);
        targets = __spreadArray$2(__spreadArray$2([], targets, true), baseTargets, true);
    }
    return targets;
}
function getBaseClassDependencyCount(metadataReader, func) {
    var baseConstructor = Object.getPrototypeOf(func.prototype).constructor;
    if (baseConstructor !== Object) {
        var baseConstructorName = getFunctionName(baseConstructor);
        var targets = getTargets(metadataReader, baseConstructorName, baseConstructor, true);
        var metadata = targets.map(function (t) { return t.metadata.filter(function (m) { return m.key === UNMANAGED_TAG; }); });
        var unmanagedCount = [].concat.apply([], metadata).length;
        var dependencyCount = targets.length - unmanagedCount;
        if (dependencyCount > 0) {
            return dependencyCount;
        }
        else {
            return getBaseClassDependencyCount(metadataReader, baseConstructor);
        }
    }
    else {
        return 0;
    }
}
function formatTargetMetadata(targetMetadata) {
    var targetMetadataMap = {};
    targetMetadata.forEach(function (m) {
        targetMetadataMap[m.key.toString()] = m.value;
    });
    return {
        inject: targetMetadataMap[INJECT_TAG],
        multiInject: targetMetadataMap[MULTI_INJECT_TAG],
        targetName: targetMetadataMap[NAME_TAG],
        unmanaged: targetMetadataMap[UNMANAGED_TAG]
    };
}

var Request = (function () {
    function Request(serviceIdentifier, parentContext, parentRequest, bindings, target) {
        this.id = id();
        this.serviceIdentifier = serviceIdentifier;
        this.parentContext = parentContext;
        this.parentRequest = parentRequest;
        this.target = target;
        this.childRequests = [];
        this.bindings = (Array.isArray(bindings) ? bindings : [bindings]);
        this.requestScope = parentRequest === null
            ? new Map()
            : null;
    }
    Request.prototype.addChildRequest = function (serviceIdentifier, bindings, target) {
        var child = new Request(serviceIdentifier, this.parentContext, this, bindings, target);
        this.childRequests.push(child);
        return child;
    };
    return Request;
}());

function getBindingDictionary(cntnr) {
    return cntnr._bindingDictionary;
}
function _createTarget(isMultiInject, targetType, serviceIdentifier, name, key, value) {
    var metadataKey = isMultiInject ? MULTI_INJECT_TAG : INJECT_TAG;
    var injectMetadata = new Metadata(metadataKey, serviceIdentifier);
    var target = new Target(targetType, name, serviceIdentifier, injectMetadata);
    if (key !== undefined) {
        var tagMetadata = new Metadata(key, value);
        target.metadata.push(tagMetadata);
    }
    return target;
}
function _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target) {
    var bindings = getBindings(context.container, target.serviceIdentifier);
    var activeBindings = [];
    if (bindings.length === BindingCount.NoBindingsAvailable &&
        context.container.options.autoBindInjectable &&
        typeof target.serviceIdentifier === "function" &&
        metadataReader.getConstructorMetadata(target.serviceIdentifier).compilerGeneratedMetadata) {
        context.container.bind(target.serviceIdentifier).toSelf();
        bindings = getBindings(context.container, target.serviceIdentifier);
    }
    if (!avoidConstraints) {
        activeBindings = bindings.filter(function (binding) {
            var request = new Request(binding.serviceIdentifier, context, parentRequest, binding, target);
            return binding.constraint(request);
        });
    }
    else {
        activeBindings = bindings;
    }
    _validateActiveBindingCount(target.serviceIdentifier, activeBindings, target, context.container);
    return activeBindings;
}
function _validateActiveBindingCount(serviceIdentifier, bindings, target, container) {
    switch (bindings.length) {
        case BindingCount.NoBindingsAvailable:
            if (target.isOptional()) {
                return bindings;
            }
            else {
                var serviceIdentifierString = getServiceIdentifierAsString(serviceIdentifier);
                var msg = NOT_REGISTERED;
                msg += listMetadataForTarget(serviceIdentifierString, target);
                msg += listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);
                throw new Error(msg);
            }
        case BindingCount.OnlyOneBindingAvailable:
            return bindings;
        case BindingCount.MultipleBindingsAvailable:
        default:
            if (!target.isArray()) {
                var serviceIdentifierString = getServiceIdentifierAsString(serviceIdentifier);
                var msg = AMBIGUOUS_MATCH + " " + serviceIdentifierString;
                msg += listRegisteredBindingsForServiceIdentifier(container, serviceIdentifierString, getBindings);
                throw new Error(msg);
            }
            else {
                return bindings;
            }
    }
}
function _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, parentRequest, target) {
    var activeBindings;
    var childRequest;
    if (parentRequest === null) {
        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, null, target);
        childRequest = new Request(serviceIdentifier, context, null, activeBindings, target);
        var thePlan = new Plan(context, childRequest);
        context.addPlan(thePlan);
    }
    else {
        activeBindings = _getActiveBindings(metadataReader, avoidConstraints, context, parentRequest, target);
        childRequest = parentRequest.addChildRequest(target.serviceIdentifier, activeBindings, target);
    }
    activeBindings.forEach(function (binding) {
        var subChildRequest = null;
        if (target.isArray()) {
            subChildRequest = childRequest.addChildRequest(binding.serviceIdentifier, binding, target);
        }
        else {
            if (binding.cache) {
                return;
            }
            subChildRequest = childRequest;
        }
        if (binding.type === BindingTypeEnum.Instance && binding.implementationType !== null) {
            var dependencies = getDependencies(metadataReader, binding.implementationType);
            if (!context.container.options.skipBaseClassChecks) {
                var baseClassDependencyCount = getBaseClassDependencyCount(metadataReader, binding.implementationType);
                if (dependencies.length < baseClassDependencyCount) {
                    var error = ARGUMENTS_LENGTH_MISMATCH(getFunctionName(binding.implementationType));
                    throw new Error(error);
                }
            }
            dependencies.forEach(function (dependency) {
                _createSubRequests(metadataReader, false, dependency.serviceIdentifier, context, subChildRequest, dependency);
            });
        }
    });
}
function getBindings(container, serviceIdentifier) {
    var bindings = [];
    var bindingDictionary = getBindingDictionary(container);
    if (bindingDictionary.hasKey(serviceIdentifier)) {
        bindings = bindingDictionary.get(serviceIdentifier);
    }
    else if (container.parent !== null) {
        bindings = getBindings(container.parent, serviceIdentifier);
    }
    return bindings;
}
function plan(metadataReader, container, isMultiInject, targetType, serviceIdentifier, key, value, avoidConstraints) {
    if (avoidConstraints === void 0) { avoidConstraints = false; }
    var context = new Context(container);
    var target = _createTarget(isMultiInject, targetType, serviceIdentifier, "", key, value);
    try {
        _createSubRequests(metadataReader, avoidConstraints, serviceIdentifier, context, null, target);
        return context;
    }
    catch (error) {
        if (isStackOverflowExeption(error)) {
            circularDependencyToException(context.plan.rootRequest);
        }
        throw error;
    }
}
function createMockRequest(container, serviceIdentifier, key, value) {
    var target = new Target(TargetTypeEnum.Variable, "", serviceIdentifier, new Metadata(key, value));
    var context = new Context(container);
    var request = new Request(serviceIdentifier, context, null, [], target);
    return request;
}

function isPromise(object) {
    var isObjectOrFunction = (typeof object === 'object' && object !== null) || typeof object === 'function';
    return isObjectOrFunction && typeof object.then === "function";
}
function isPromiseOrContainsPromise(object) {
    if (isPromise(object)) {
        return true;
    }
    return Array.isArray(object) && object.some(isPromise);
}

var __awaiter$3 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator$3 = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var tryGetFromScope = function (requestScope, binding) {
    if ((binding.scope === BindingScopeEnum.Singleton) && binding.activated) {
        return binding.cache;
    }
    if (binding.scope === BindingScopeEnum.Request &&
        requestScope.has(binding.id)) {
        return requestScope.get(binding.id);
    }
    return null;
};
var saveToScope = function (requestScope, binding, result) {
    if (binding.scope === BindingScopeEnum.Singleton) {
        _saveToSingletonScope(binding, result);
    }
    if (binding.scope === BindingScopeEnum.Request) {
        _saveToRequestScope(requestScope, binding, result);
    }
};
var _saveToRequestScope = function (requestScope, binding, result) {
    if (!requestScope.has(binding.id)) {
        requestScope.set(binding.id, result);
    }
};
var _saveToSingletonScope = function (binding, result) {
    binding.cache = result;
    binding.activated = true;
    if (isPromise(result)) {
        void _saveAsyncResultToSingletonScope(binding, result);
    }
};
var _saveAsyncResultToSingletonScope = function (binding, asyncResult) { return __awaiter$3(void 0, void 0, void 0, function () {
    var result, ex_1;
    return __generator$3(this, function (_a) {
        switch (_a.label) {
            case 0:
                _a.trys.push([0, 2, , 3]);
                return [4, asyncResult];
            case 1:
                result = _a.sent();
                binding.cache = result;
                return [3, 3];
            case 2:
                ex_1 = _a.sent();
                binding.cache = null;
                binding.activated = false;
                throw ex_1;
            case 3: return [2];
        }
    });
}); };

var FactoryType;
(function (FactoryType) {
    FactoryType["DynamicValue"] = "toDynamicValue";
    FactoryType["Factory"] = "toFactory";
    FactoryType["Provider"] = "toProvider";
})(FactoryType || (FactoryType = {}));

var multiBindToService = function (container) {
    return function (service) {
        return function () {
            var types = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                types[_i] = arguments[_i];
            }
            return types.forEach(function (t) { return container.bind(t).toService(service); });
        };
    };
};
var ensureFullyBound = function (binding) {
    var boundValue = null;
    switch (binding.type) {
        case BindingTypeEnum.ConstantValue:
        case BindingTypeEnum.Function:
            boundValue = binding.cache;
            break;
        case BindingTypeEnum.Constructor:
        case BindingTypeEnum.Instance:
            boundValue = binding.implementationType;
            break;
        case BindingTypeEnum.DynamicValue:
            boundValue = binding.dynamicValue;
            break;
        case BindingTypeEnum.Provider:
            boundValue = binding.provider;
            break;
        case BindingTypeEnum.Factory:
            boundValue = binding.factory;
            break;
    }
    if (boundValue === null) {
        var serviceIdentifierAsString = getServiceIdentifierAsString(binding.serviceIdentifier);
        throw new Error(INVALID_BINDING_TYPE + " " + serviceIdentifierAsString);
    }
};
var getFactoryDetails = function (binding) {
    switch (binding.type) {
        case BindingTypeEnum.Factory:
            return { factory: binding.factory, factoryType: FactoryType.Factory };
        case BindingTypeEnum.Provider:
            return { factory: binding.provider, factoryType: FactoryType.Provider };
        case BindingTypeEnum.DynamicValue:
            return { factory: binding.dynamicValue, factoryType: FactoryType.DynamicValue };
        default:
            throw new Error("Unexpected factory type " + binding.type);
    }
};

var __assign$1 = (undefined && undefined.__assign) || function () {
    __assign$1 = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign$1.apply(this, arguments);
};
var __awaiter$2 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator$2 = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __spreadArray$1 = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
function _resolveRequests(childRequests, resolveRequest) {
    return childRequests.reduce(function (resolvedRequests, childRequest) {
        var injection = resolveRequest(childRequest);
        var targetType = childRequest.target.type;
        if (targetType === TargetTypeEnum.ConstructorArgument) {
            resolvedRequests.constructorInjections.push(injection);
        }
        else {
            resolvedRequests.propertyRequests.push(childRequest);
            resolvedRequests.propertyInjections.push(injection);
        }
        if (!resolvedRequests.isAsync) {
            resolvedRequests.isAsync = isPromiseOrContainsPromise(injection);
        }
        return resolvedRequests;
    }, { constructorInjections: [], propertyInjections: [], propertyRequests: [], isAsync: false });
}
function _createInstance(constr, childRequests, resolveRequest) {
    var result;
    if (childRequests.length > 0) {
        var resolved = _resolveRequests(childRequests, resolveRequest);
        var createInstanceWithInjectionsArg = __assign$1(__assign$1({}, resolved), { constr: constr });
        if (resolved.isAsync) {
            result = createInstanceWithInjectionsAsync(createInstanceWithInjectionsArg);
        }
        else {
            result = createInstanceWithInjections(createInstanceWithInjectionsArg);
        }
    }
    else {
        result = new constr();
    }
    return result;
}
function createInstanceWithInjections(args) {
    var _a;
    var instance = new ((_a = args.constr).bind.apply(_a, __spreadArray$1([void 0], args.constructorInjections, false)))();
    args.propertyRequests.forEach(function (r, index) {
        var property = r.target.identifier;
        var injection = args.propertyInjections[index];
        instance[property] = injection;
    });
    return instance;
}
function createInstanceWithInjectionsAsync(args) {
    return __awaiter$2(this, void 0, void 0, function () {
        var constructorInjections, propertyInjections;
        return __generator$2(this, function (_a) {
            switch (_a.label) {
                case 0: return [4, possiblyWaitInjections(args.constructorInjections)];
                case 1:
                    constructorInjections = _a.sent();
                    return [4, possiblyWaitInjections(args.propertyInjections)];
                case 2:
                    propertyInjections = _a.sent();
                    return [2, createInstanceWithInjections(__assign$1(__assign$1({}, args), { constructorInjections: constructorInjections, propertyInjections: propertyInjections }))];
            }
        });
    });
}
function possiblyWaitInjections(possiblePromiseinjections) {
    return __awaiter$2(this, void 0, void 0, function () {
        var injections, _i, possiblePromiseinjections_1, injection;
        return __generator$2(this, function (_a) {
            injections = [];
            for (_i = 0, possiblePromiseinjections_1 = possiblePromiseinjections; _i < possiblePromiseinjections_1.length; _i++) {
                injection = possiblePromiseinjections_1[_i];
                if (Array.isArray(injection)) {
                    injections.push(Promise.all(injection));
                }
                else {
                    injections.push(injection);
                }
            }
            return [2, Promise.all(injections)];
        });
    });
}
function _getInstanceAfterPostConstruct(constr, result) {
    var postConstructResult = _postConstruct(constr, result);
    if (isPromise(postConstructResult)) {
        return postConstructResult.then(function () { return result; });
    }
    else {
        return result;
    }
}
function _postConstruct(constr, instance) {
    var _a, _b;
    if (Reflect.hasMetadata(POST_CONSTRUCT, constr)) {
        var data = Reflect.getMetadata(POST_CONSTRUCT, constr);
        try {
            return (_b = (_a = instance)[data.value]) === null || _b === void 0 ? void 0 : _b.call(_a);
        }
        catch (e) {
            throw new Error(POST_CONSTRUCT_ERROR(constr.name, e.message));
        }
    }
}
function _validateInstanceResolution(binding, constr) {
    if (binding.scope !== BindingScopeEnum.Singleton) {
        _throwIfHandlingDeactivation(binding, constr);
    }
}
function _throwIfHandlingDeactivation(binding, constr) {
    var scopeErrorMessage = "Class cannot be instantiated in " + (binding.scope === BindingScopeEnum.Request ?
        "request" :
        "transient") + " scope.";
    if (typeof binding.onDeactivation === "function") {
        throw new Error(ON_DEACTIVATION_ERROR(constr.name, scopeErrorMessage));
    }
    if (Reflect.hasMetadata(PRE_DESTROY, constr)) {
        throw new Error(PRE_DESTROY_ERROR(constr.name, scopeErrorMessage));
    }
}
function resolveInstance(binding, constr, childRequests, resolveRequest) {
    _validateInstanceResolution(binding, constr);
    var result = _createInstance(constr, childRequests, resolveRequest);
    if (isPromise(result)) {
        return result.then(function (resolvedResult) { return _getInstanceAfterPostConstruct(constr, resolvedResult); });
    }
    else {
        return _getInstanceAfterPostConstruct(constr, result);
    }
}

var __awaiter$1 = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator$1 = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var _resolveRequest = function (requestScope) {
    return function (request) {
        request.parentContext.setCurrentRequest(request);
        var bindings = request.bindings;
        var childRequests = request.childRequests;
        var targetIsAnArray = request.target && request.target.isArray();
        var targetParentIsNotAnArray = !request.parentRequest ||
            !request.parentRequest.target ||
            !request.target ||
            !request.parentRequest.target.matchesArray(request.target.serviceIdentifier);
        if (targetIsAnArray && targetParentIsNotAnArray) {
            return childRequests.map(function (childRequest) {
                var _f = _resolveRequest(requestScope);
                return _f(childRequest);
            });
        }
        else {
            if (request.target.isOptional() && bindings.length === 0) {
                return undefined;
            }
            var binding = bindings[0];
            return _resolveBinding(requestScope, request, binding);
        }
    };
};
var _resolveFactoryFromBinding = function (binding, context) {
    var factoryDetails = getFactoryDetails(binding);
    return tryAndThrowErrorIfStackOverflow(function () { return factoryDetails.factory.bind(binding)(context); }, function () { return new Error(CIRCULAR_DEPENDENCY_IN_FACTORY(factoryDetails.factoryType, context.currentRequest.serviceIdentifier.toString())); });
};
var _getResolvedFromBinding = function (requestScope, request, binding) {
    var result;
    var childRequests = request.childRequests;
    ensureFullyBound(binding);
    switch (binding.type) {
        case BindingTypeEnum.ConstantValue:
        case BindingTypeEnum.Function:
            result = binding.cache;
            break;
        case BindingTypeEnum.Constructor:
            result = binding.implementationType;
            break;
        case BindingTypeEnum.Instance:
            result = resolveInstance(binding, binding.implementationType, childRequests, _resolveRequest(requestScope));
            break;
        default:
            result = _resolveFactoryFromBinding(binding, request.parentContext);
    }
    return result;
};
var _resolveInScope = function (requestScope, binding, resolveFromBinding) {
    var result = tryGetFromScope(requestScope, binding);
    if (result !== null) {
        return result;
    }
    result = resolveFromBinding();
    saveToScope(requestScope, binding, result);
    return result;
};
var _resolveBinding = function (requestScope, request, binding) {
    return _resolveInScope(requestScope, binding, function () {
        var result = _getResolvedFromBinding(requestScope, request, binding);
        if (isPromise(result)) {
            result = result.then(function (resolved) { return _onActivation(request, binding, resolved); });
        }
        else {
            result = _onActivation(request, binding, result);
        }
        return result;
    });
};
function _onActivation(request, binding, resolved) {
    var result = _bindingActivation(request.parentContext, binding, resolved);
    var containersIterator = _getContainersIterator(request.parentContext.container);
    var container;
    var containersIteratorResult = containersIterator.next();
    do {
        container = containersIteratorResult.value;
        var context_1 = request.parentContext;
        var serviceIdentifier = request.serviceIdentifier;
        var activationsIterator = _getContainerActivationsForService(container, serviceIdentifier);
        if (isPromise(result)) {
            result = _activateContainerAsync(activationsIterator, context_1, result);
        }
        else {
            result = _activateContainer(activationsIterator, context_1, result);
        }
        containersIteratorResult = containersIterator.next();
    } while (containersIteratorResult.done !== true && !getBindingDictionary(container).hasKey(request.serviceIdentifier));
    return result;
}
var _bindingActivation = function (context, binding, previousResult) {
    var result;
    if (typeof binding.onActivation === "function") {
        result = binding.onActivation(context, previousResult);
    }
    else {
        result = previousResult;
    }
    return result;
};
var _activateContainer = function (activationsIterator, context, result) {
    var activation = activationsIterator.next();
    while (!activation.done) {
        result = activation.value(context, result);
        if (isPromise(result)) {
            return _activateContainerAsync(activationsIterator, context, result);
        }
        activation = activationsIterator.next();
    }
    return result;
};
var _activateContainerAsync = function (activationsIterator, context, resultPromise) { return __awaiter$1(void 0, void 0, void 0, function () {
    var result, activation;
    return __generator$1(this, function (_a) {
        switch (_a.label) {
            case 0: return [4, resultPromise];
            case 1:
                result = _a.sent();
                activation = activationsIterator.next();
                _a.label = 2;
            case 2:
                if (!!activation.done) return [3, 4];
                return [4, activation.value(context, result)];
            case 3:
                result = _a.sent();
                activation = activationsIterator.next();
                return [3, 2];
            case 4: return [2, result];
        }
    });
}); };
var _getContainerActivationsForService = function (container, serviceIdentifier) {
    var activations = container._activations;
    return activations.hasKey(serviceIdentifier) ? activations.get(serviceIdentifier).values() : [].values();
};
var _getContainersIterator = function (container) {
    var containersStack = [container];
    var parent = container.parent;
    while (parent !== null) {
        containersStack.push(parent);
        parent = parent.parent;
    }
    var getNextContainer = function () {
        var nextContainer = containersStack.pop();
        if (nextContainer !== undefined) {
            return { done: false, value: nextContainer };
        }
        else {
            return { done: true, value: undefined };
        }
    };
    var containersIterator = {
        next: getNextContainer,
    };
    return containersIterator;
};
function resolve(context) {
    var _f = _resolveRequest(context.plan.rootRequest.requestScope);
    return _f(context.plan.rootRequest);
}

var traverseAncerstors = function (request, constraint) {
    var parent = request.parentRequest;
    if (parent !== null) {
        return constraint(parent) ? true : traverseAncerstors(parent, constraint);
    }
    else {
        return false;
    }
};
var taggedConstraint = function (key) { return function (value) {
    var constraint = function (request) {
        return request !== null && request.target !== null && request.target.matchesTag(key)(value);
    };
    constraint.metaData = new Metadata(key, value);
    return constraint;
}; };
var namedConstraint = taggedConstraint(NAMED_TAG);
var typeConstraint = function (type) { return function (request) {
    var binding = null;
    if (request !== null) {
        binding = request.bindings[0];
        if (typeof type === "string") {
            var serviceIdentifier = binding.serviceIdentifier;
            return serviceIdentifier === type;
        }
        else {
            var constructor = request.bindings[0].implementationType;
            return type === constructor;
        }
    }
    return false;
}; };

var BindingWhenSyntax = (function () {
    function BindingWhenSyntax(binding) {
        this._binding = binding;
    }
    BindingWhenSyntax.prototype.when = function (constraint) {
        this._binding.constraint = constraint;
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenTargetNamed = function (name) {
        this._binding.constraint = namedConstraint(name);
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenTargetIsDefault = function () {
        this._binding.constraint = function (request) {
            if (request === null) {
                return false;
            }
            var targetIsDefault = (request.target !== null) &&
                (!request.target.isNamed()) &&
                (!request.target.isTagged());
            return targetIsDefault;
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {
        this._binding.constraint = taggedConstraint(tag)(value);
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {
        this._binding.constraint = function (request) {
            return request !== null && typeConstraint(parent)(request.parentRequest);
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenParentNamed = function (name) {
        this._binding.constraint = function (request) {
            return request !== null && namedConstraint(name)(request.parentRequest);
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {
        this._binding.constraint = function (request) {
            return request !== null && taggedConstraint(tag)(value)(request.parentRequest);
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {
        this._binding.constraint = function (request) {
            return request !== null && traverseAncerstors(request, typeConstraint(ancestor));
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {
        this._binding.constraint = function (request) {
            return request !== null && !traverseAncerstors(request, typeConstraint(ancestor));
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {
        this._binding.constraint = function (request) {
            return request !== null && traverseAncerstors(request, namedConstraint(name));
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {
        this._binding.constraint = function (request) {
            return request !== null && !traverseAncerstors(request, namedConstraint(name));
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {
        this._binding.constraint = function (request) {
            return request !== null && traverseAncerstors(request, taggedConstraint(tag)(value));
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {
        this._binding.constraint = function (request) {
            return request !== null && !traverseAncerstors(request, taggedConstraint(tag)(value));
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {
        this._binding.constraint = function (request) {
            return request !== null && traverseAncerstors(request, constraint);
        };
        return new BindingOnSyntax(this._binding);
    };
    BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {
        this._binding.constraint = function (request) {
            return request !== null && !traverseAncerstors(request, constraint);
        };
        return new BindingOnSyntax(this._binding);
    };
    return BindingWhenSyntax;
}());

var BindingOnSyntax = (function () {
    function BindingOnSyntax(binding) {
        this._binding = binding;
    }
    BindingOnSyntax.prototype.onActivation = function (handler) {
        this._binding.onActivation = handler;
        return new BindingWhenSyntax(this._binding);
    };
    BindingOnSyntax.prototype.onDeactivation = function (handler) {
        this._binding.onDeactivation = handler;
        return new BindingWhenSyntax(this._binding);
    };
    return BindingOnSyntax;
}());

var BindingWhenOnSyntax = (function () {
    function BindingWhenOnSyntax(binding) {
        this._binding = binding;
        this._bindingWhenSyntax = new BindingWhenSyntax(this._binding);
        this._bindingOnSyntax = new BindingOnSyntax(this._binding);
    }
    BindingWhenOnSyntax.prototype.when = function (constraint) {
        return this._bindingWhenSyntax.when(constraint);
    };
    BindingWhenOnSyntax.prototype.whenTargetNamed = function (name) {
        return this._bindingWhenSyntax.whenTargetNamed(name);
    };
    BindingWhenOnSyntax.prototype.whenTargetIsDefault = function () {
        return this._bindingWhenSyntax.whenTargetIsDefault();
    };
    BindingWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenTargetTagged(tag, value);
    };
    BindingWhenOnSyntax.prototype.whenInjectedInto = function (parent) {
        return this._bindingWhenSyntax.whenInjectedInto(parent);
    };
    BindingWhenOnSyntax.prototype.whenParentNamed = function (name) {
        return this._bindingWhenSyntax.whenParentNamed(name);
    };
    BindingWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenParentTagged(tag, value);
    };
    BindingWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {
        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);
    };
    BindingWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {
        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);
    };
    BindingWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {
        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);
    };
    BindingWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);
    };
    BindingWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {
        return this._bindingWhenSyntax.whenNoAncestorNamed(name);
    };
    BindingWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);
    };
    BindingWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {
        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);
    };
    BindingWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {
        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);
    };
    BindingWhenOnSyntax.prototype.onActivation = function (handler) {
        return this._bindingOnSyntax.onActivation(handler);
    };
    BindingWhenOnSyntax.prototype.onDeactivation = function (handler) {
        return this._bindingOnSyntax.onDeactivation(handler);
    };
    return BindingWhenOnSyntax;
}());

var BindingInSyntax = (function () {
    function BindingInSyntax(binding) {
        this._binding = binding;
    }
    BindingInSyntax.prototype.inRequestScope = function () {
        this._binding.scope = BindingScopeEnum.Request;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingInSyntax.prototype.inSingletonScope = function () {
        this._binding.scope = BindingScopeEnum.Singleton;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingInSyntax.prototype.inTransientScope = function () {
        this._binding.scope = BindingScopeEnum.Transient;
        return new BindingWhenOnSyntax(this._binding);
    };
    return BindingInSyntax;
}());

var BindingInWhenOnSyntax = (function () {
    function BindingInWhenOnSyntax(binding) {
        this._binding = binding;
        this._bindingWhenSyntax = new BindingWhenSyntax(this._binding);
        this._bindingOnSyntax = new BindingOnSyntax(this._binding);
        this._bindingInSyntax = new BindingInSyntax(binding);
    }
    BindingInWhenOnSyntax.prototype.inRequestScope = function () {
        return this._bindingInSyntax.inRequestScope();
    };
    BindingInWhenOnSyntax.prototype.inSingletonScope = function () {
        return this._bindingInSyntax.inSingletonScope();
    };
    BindingInWhenOnSyntax.prototype.inTransientScope = function () {
        return this._bindingInSyntax.inTransientScope();
    };
    BindingInWhenOnSyntax.prototype.when = function (constraint) {
        return this._bindingWhenSyntax.when(constraint);
    };
    BindingInWhenOnSyntax.prototype.whenTargetNamed = function (name) {
        return this._bindingWhenSyntax.whenTargetNamed(name);
    };
    BindingInWhenOnSyntax.prototype.whenTargetIsDefault = function () {
        return this._bindingWhenSyntax.whenTargetIsDefault();
    };
    BindingInWhenOnSyntax.prototype.whenTargetTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenTargetTagged(tag, value);
    };
    BindingInWhenOnSyntax.prototype.whenInjectedInto = function (parent) {
        return this._bindingWhenSyntax.whenInjectedInto(parent);
    };
    BindingInWhenOnSyntax.prototype.whenParentNamed = function (name) {
        return this._bindingWhenSyntax.whenParentNamed(name);
    };
    BindingInWhenOnSyntax.prototype.whenParentTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenParentTagged(tag, value);
    };
    BindingInWhenOnSyntax.prototype.whenAnyAncestorIs = function (ancestor) {
        return this._bindingWhenSyntax.whenAnyAncestorIs(ancestor);
    };
    BindingInWhenOnSyntax.prototype.whenNoAncestorIs = function (ancestor) {
        return this._bindingWhenSyntax.whenNoAncestorIs(ancestor);
    };
    BindingInWhenOnSyntax.prototype.whenAnyAncestorNamed = function (name) {
        return this._bindingWhenSyntax.whenAnyAncestorNamed(name);
    };
    BindingInWhenOnSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenAnyAncestorTagged(tag, value);
    };
    BindingInWhenOnSyntax.prototype.whenNoAncestorNamed = function (name) {
        return this._bindingWhenSyntax.whenNoAncestorNamed(name);
    };
    BindingInWhenOnSyntax.prototype.whenNoAncestorTagged = function (tag, value) {
        return this._bindingWhenSyntax.whenNoAncestorTagged(tag, value);
    };
    BindingInWhenOnSyntax.prototype.whenAnyAncestorMatches = function (constraint) {
        return this._bindingWhenSyntax.whenAnyAncestorMatches(constraint);
    };
    BindingInWhenOnSyntax.prototype.whenNoAncestorMatches = function (constraint) {
        return this._bindingWhenSyntax.whenNoAncestorMatches(constraint);
    };
    BindingInWhenOnSyntax.prototype.onActivation = function (handler) {
        return this._bindingOnSyntax.onActivation(handler);
    };
    BindingInWhenOnSyntax.prototype.onDeactivation = function (handler) {
        return this._bindingOnSyntax.onDeactivation(handler);
    };
    return BindingInWhenOnSyntax;
}());

var BindingToSyntax = (function () {
    function BindingToSyntax(binding) {
        this._binding = binding;
    }
    BindingToSyntax.prototype.to = function (constructor) {
        this._binding.type = BindingTypeEnum.Instance;
        this._binding.implementationType = constructor;
        return new BindingInWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toSelf = function () {
        if (typeof this._binding.serviceIdentifier !== "function") {
            throw new Error("" + INVALID_TO_SELF_VALUE);
        }
        var self = this._binding.serviceIdentifier;
        return this.to(self);
    };
    BindingToSyntax.prototype.toConstantValue = function (value) {
        this._binding.type = BindingTypeEnum.ConstantValue;
        this._binding.cache = value;
        this._binding.dynamicValue = null;
        this._binding.implementationType = null;
        this._binding.scope = BindingScopeEnum.Singleton;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toDynamicValue = function (func) {
        this._binding.type = BindingTypeEnum.DynamicValue;
        this._binding.cache = null;
        this._binding.dynamicValue = func;
        this._binding.implementationType = null;
        return new BindingInWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toConstructor = function (constructor) {
        this._binding.type = BindingTypeEnum.Constructor;
        this._binding.implementationType = constructor;
        this._binding.scope = BindingScopeEnum.Singleton;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toFactory = function (factory) {
        this._binding.type = BindingTypeEnum.Factory;
        this._binding.factory = factory;
        this._binding.scope = BindingScopeEnum.Singleton;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toFunction = function (func) {
        if (typeof func !== "function") {
            throw new Error(INVALID_FUNCTION_BINDING);
        }
        var bindingWhenOnSyntax = this.toConstantValue(func);
        this._binding.type = BindingTypeEnum.Function;
        this._binding.scope = BindingScopeEnum.Singleton;
        return bindingWhenOnSyntax;
    };
    BindingToSyntax.prototype.toAutoFactory = function (serviceIdentifier) {
        this._binding.type = BindingTypeEnum.Factory;
        this._binding.factory = function (context) {
            var autofactory = function () { return context.container.get(serviceIdentifier); };
            return autofactory;
        };
        this._binding.scope = BindingScopeEnum.Singleton;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toAutoNamedFactory = function (serviceIdentifier) {
        this._binding.type = BindingTypeEnum.Factory;
        this._binding.factory = function (context) {
            return function (named) { return context.container.getNamed(serviceIdentifier, named); };
        };
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toProvider = function (provider) {
        this._binding.type = BindingTypeEnum.Provider;
        this._binding.provider = provider;
        this._binding.scope = BindingScopeEnum.Singleton;
        return new BindingWhenOnSyntax(this._binding);
    };
    BindingToSyntax.prototype.toService = function (service) {
        this.toDynamicValue(function (context) { return context.container.get(service); });
    };
    return BindingToSyntax;
}());

var ContainerSnapshot = (function () {
    function ContainerSnapshot() {
    }
    ContainerSnapshot.of = function (bindings, middleware, activations, deactivations, moduleActivationStore) {
        var snapshot = new ContainerSnapshot();
        snapshot.bindings = bindings;
        snapshot.middleware = middleware;
        snapshot.deactivations = deactivations;
        snapshot.activations = activations;
        snapshot.moduleActivationStore = moduleActivationStore;
        return snapshot;
    };
    return ContainerSnapshot;
}());

function isClonable(obj) {
    return (typeof obj === 'object')
        && (obj !== null)
        && ('clone' in obj)
        && typeof obj.clone === 'function';
}

var Lookup = (function () {
    function Lookup() {
        this._map = new Map();
    }
    Lookup.prototype.getMap = function () {
        return this._map;
    };
    Lookup.prototype.add = function (serviceIdentifier, value) {
        if (serviceIdentifier === null || serviceIdentifier === undefined) {
            throw new Error(NULL_ARGUMENT);
        }
        if (value === null || value === undefined) {
            throw new Error(NULL_ARGUMENT);
        }
        var entry = this._map.get(serviceIdentifier);
        if (entry !== undefined) {
            entry.push(value);
        }
        else {
            this._map.set(serviceIdentifier, [value]);
        }
    };
    Lookup.prototype.get = function (serviceIdentifier) {
        if (serviceIdentifier === null || serviceIdentifier === undefined) {
            throw new Error(NULL_ARGUMENT);
        }
        var entry = this._map.get(serviceIdentifier);
        if (entry !== undefined) {
            return entry;
        }
        else {
            throw new Error(KEY_NOT_FOUND);
        }
    };
    Lookup.prototype.remove = function (serviceIdentifier) {
        if (serviceIdentifier === null || serviceIdentifier === undefined) {
            throw new Error(NULL_ARGUMENT);
        }
        if (!this._map.delete(serviceIdentifier)) {
            throw new Error(KEY_NOT_FOUND);
        }
    };
    Lookup.prototype.removeIntersection = function (lookup) {
        var _this = this;
        this.traverse(function (serviceIdentifier, value) {
            var lookupActivations = lookup.hasKey(serviceIdentifier) ? lookup.get(serviceIdentifier) : undefined;
            if (lookupActivations !== undefined) {
                var filteredValues = value.filter(function (lookupValue) {
                    return !lookupActivations.some(function (moduleActivation) { return lookupValue === moduleActivation; });
                });
                _this._setValue(serviceIdentifier, filteredValues);
            }
        });
    };
    Lookup.prototype.removeByCondition = function (condition) {
        var _this = this;
        var removals = [];
        this._map.forEach(function (entries, key) {
            var updatedEntries = [];
            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {
                var entry = entries_1[_i];
                var remove = condition(entry);
                if (remove) {
                    removals.push(entry);
                }
                else {
                    updatedEntries.push(entry);
                }
            }
            _this._setValue(key, updatedEntries);
        });
        return removals;
    };
    Lookup.prototype.hasKey = function (serviceIdentifier) {
        if (serviceIdentifier === null || serviceIdentifier === undefined) {
            throw new Error(NULL_ARGUMENT);
        }
        return this._map.has(serviceIdentifier);
    };
    Lookup.prototype.clone = function () {
        var copy = new Lookup();
        this._map.forEach(function (value, key) {
            value.forEach(function (b) { return copy.add(key, isClonable(b) ? b.clone() : b); });
        });
        return copy;
    };
    Lookup.prototype.traverse = function (func) {
        this._map.forEach(function (value, key) {
            func(key, value);
        });
    };
    Lookup.prototype._setValue = function (serviceIdentifier, value) {
        if (value.length > 0) {
            this._map.set(serviceIdentifier, value);
        }
        else {
            this._map.delete(serviceIdentifier);
        }
    };
    return Lookup;
}());

var ModuleActivationStore = (function () {
    function ModuleActivationStore() {
        this._map = new Map();
    }
    ModuleActivationStore.prototype.remove = function (moduleId) {
        if (this._map.has(moduleId)) {
            var handlers = this._map.get(moduleId);
            this._map.delete(moduleId);
            return handlers;
        }
        return this._getEmptyHandlersStore();
    };
    ModuleActivationStore.prototype.addDeactivation = function (moduleId, serviceIdentifier, onDeactivation) {
        this._getModuleActivationHandlers(moduleId)
            .onDeactivations.add(serviceIdentifier, onDeactivation);
    };
    ModuleActivationStore.prototype.addActivation = function (moduleId, serviceIdentifier, onActivation) {
        this._getModuleActivationHandlers(moduleId)
            .onActivations.add(serviceIdentifier, onActivation);
    };
    ModuleActivationStore.prototype.clone = function () {
        var clone = new ModuleActivationStore();
        this._map.forEach(function (handlersStore, moduleId) {
            clone._map.set(moduleId, {
                onActivations: handlersStore.onActivations.clone(),
                onDeactivations: handlersStore.onDeactivations.clone(),
            });
        });
        return clone;
    };
    ModuleActivationStore.prototype._getModuleActivationHandlers = function (moduleId) {
        var moduleActivationHandlers = this._map.get(moduleId);
        if (moduleActivationHandlers === undefined) {
            moduleActivationHandlers = this._getEmptyHandlersStore();
            this._map.set(moduleId, moduleActivationHandlers);
        }
        return moduleActivationHandlers;
    };
    ModuleActivationStore.prototype._getEmptyHandlersStore = function () {
        var handlersStore = {
            onActivations: new Lookup(),
            onDeactivations: new Lookup()
        };
        return handlersStore;
    };
    return ModuleActivationStore;
}());

var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var Container = (function () {
    function Container(containerOptions) {
        var options = containerOptions || {};
        if (typeof options !== "object") {
            throw new Error("" + CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);
        }
        if (options.defaultScope === undefined) {
            options.defaultScope = BindingScopeEnum.Transient;
        }
        else if (options.defaultScope !== BindingScopeEnum.Singleton &&
            options.defaultScope !== BindingScopeEnum.Transient &&
            options.defaultScope !== BindingScopeEnum.Request) {
            throw new Error("" + CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);
        }
        if (options.autoBindInjectable === undefined) {
            options.autoBindInjectable = false;
        }
        else if (typeof options.autoBindInjectable !== "boolean") {
            throw new Error("" + CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);
        }
        if (options.skipBaseClassChecks === undefined) {
            options.skipBaseClassChecks = false;
        }
        else if (typeof options.skipBaseClassChecks !== "boolean") {
            throw new Error("" + CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);
        }
        this.options = {
            autoBindInjectable: options.autoBindInjectable,
            defaultScope: options.defaultScope,
            skipBaseClassChecks: options.skipBaseClassChecks
        };
        this.id = id();
        this._bindingDictionary = new Lookup();
        this._snapshots = [];
        this._middleware = null;
        this._activations = new Lookup();
        this._deactivations = new Lookup();
        this.parent = null;
        this._metadataReader = new MetadataReader();
        this._moduleActivationStore = new ModuleActivationStore();
    }
    Container.merge = function (container1, container2) {
        var containers = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            containers[_i - 2] = arguments[_i];
        }
        var container = new Container();
        var targetContainers = __spreadArray([container1, container2], containers, true).map(function (targetContainer) { return getBindingDictionary(targetContainer); });
        var bindingDictionary = getBindingDictionary(container);
        function copyDictionary(origin, destination) {
            origin.traverse(function (_key, value) {
                value.forEach(function (binding) {
                    destination.add(binding.serviceIdentifier, binding.clone());
                });
            });
        }
        targetContainers.forEach(function (targetBindingDictionary) {
            copyDictionary(targetBindingDictionary, bindingDictionary);
        });
        return container;
    };
    Container.prototype.load = function () {
        var modules = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            modules[_i] = arguments[_i];
        }
        var getHelpers = this._getContainerModuleHelpersFactory();
        for (var _a = 0, modules_1 = modules; _a < modules_1.length; _a++) {
            var currentModule = modules_1[_a];
            var containerModuleHelpers = getHelpers(currentModule.id);
            currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction, containerModuleHelpers.unbindAsyncFunction, containerModuleHelpers.onActivationFunction, containerModuleHelpers.onDeactivationFunction);
        }
    };
    Container.prototype.loadAsync = function () {
        var modules = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            modules[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, void 0, function () {
            var getHelpers, _a, modules_2, currentModule, containerModuleHelpers;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        getHelpers = this._getContainerModuleHelpersFactory();
                        _a = 0, modules_2 = modules;
                        _b.label = 1;
                    case 1:
                        if (!(_a < modules_2.length)) return [3, 4];
                        currentModule = modules_2[_a];
                        containerModuleHelpers = getHelpers(currentModule.id);
                        return [4, currentModule.registry(containerModuleHelpers.bindFunction, containerModuleHelpers.unbindFunction, containerModuleHelpers.isboundFunction, containerModuleHelpers.rebindFunction, containerModuleHelpers.unbindAsyncFunction, containerModuleHelpers.onActivationFunction, containerModuleHelpers.onDeactivationFunction)];
                    case 2:
                        _b.sent();
                        _b.label = 3;
                    case 3:
                        _a++;
                        return [3, 1];
                    case 4: return [2];
                }
            });
        });
    };
    Container.prototype.unload = function () {
        var _this = this;
        var modules = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            modules[_i] = arguments[_i];
        }
        modules.forEach(function (module) {
            var deactivations = _this._removeModuleBindings(module.id);
            _this._deactivateSingletons(deactivations);
            _this._removeModuleHandlers(module.id);
        });
    };
    Container.prototype.unloadAsync = function () {
        var modules = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            modules[_i] = arguments[_i];
        }
        return __awaiter(this, void 0, void 0, function () {
            var _a, modules_3, module_1, deactivations;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = 0, modules_3 = modules;
                        _b.label = 1;
                    case 1:
                        if (!(_a < modules_3.length)) return [3, 4];
                        module_1 = modules_3[_a];
                        deactivations = this._removeModuleBindings(module_1.id);
                        return [4, this._deactivateSingletonsAsync(deactivations)];
                    case 2:
                        _b.sent();
                        this._removeModuleHandlers(module_1.id);
                        _b.label = 3;
                    case 3:
                        _a++;
                        return [3, 1];
                    case 4: return [2];
                }
            });
        });
    };
    Container.prototype.bind = function (serviceIdentifier) {
        var scope = this.options.defaultScope || BindingScopeEnum.Transient;
        var binding = new Binding(serviceIdentifier, scope);
        this._bindingDictionary.add(serviceIdentifier, binding);
        return new BindingToSyntax(binding);
    };
    Container.prototype.rebind = function (serviceIdentifier) {
        this.unbind(serviceIdentifier);
        return this.bind(serviceIdentifier);
    };
    Container.prototype.rebindAsync = function (serviceIdentifier) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4, this.unbindAsync(serviceIdentifier)];
                    case 1:
                        _a.sent();
                        return [2, this.bind(serviceIdentifier)];
                }
            });
        });
    };
    Container.prototype.unbind = function (serviceIdentifier) {
        if (this._bindingDictionary.hasKey(serviceIdentifier)) {
            var bindings = this._bindingDictionary.get(serviceIdentifier);
            this._deactivateSingletons(bindings);
        }
        this._removeServiceFromDictionary(serviceIdentifier);
    };
    Container.prototype.unbindAsync = function (serviceIdentifier) {
        return __awaiter(this, void 0, void 0, function () {
            var bindings;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this._bindingDictionary.hasKey(serviceIdentifier)) return [3, 2];
                        bindings = this._bindingDictionary.get(serviceIdentifier);
                        return [4, this._deactivateSingletonsAsync(bindings)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2:
                        this._removeServiceFromDictionary(serviceIdentifier);
                        return [2];
                }
            });
        });
    };
    Container.prototype.unbindAll = function () {
        var _this = this;
        this._bindingDictionary.traverse(function (_key, value) {
            _this._deactivateSingletons(value);
        });
        this._bindingDictionary = new Lookup();
    };
    Container.prototype.unbindAllAsync = function () {
        return __awaiter(this, void 0, void 0, function () {
            var promises;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        promises = [];
                        this._bindingDictionary.traverse(function (_key, value) {
                            promises.push(_this._deactivateSingletonsAsync(value));
                        });
                        return [4, Promise.all(promises)];
                    case 1:
                        _a.sent();
                        this._bindingDictionary = new Lookup();
                        return [2];
                }
            });
        });
    };
    Container.prototype.onActivation = function (serviceIdentifier, onActivation) {
        this._activations.add(serviceIdentifier, onActivation);
    };
    Container.prototype.onDeactivation = function (serviceIdentifier, onDeactivation) {
        this._deactivations.add(serviceIdentifier, onDeactivation);
    };
    Container.prototype.isBound = function (serviceIdentifier) {
        var bound = this._bindingDictionary.hasKey(serviceIdentifier);
        if (!bound && this.parent) {
            bound = this.parent.isBound(serviceIdentifier);
        }
        return bound;
    };
    Container.prototype.isCurrentBound = function (serviceIdentifier) {
        return this._bindingDictionary.hasKey(serviceIdentifier);
    };
    Container.prototype.isBoundNamed = function (serviceIdentifier, named) {
        return this.isBoundTagged(serviceIdentifier, NAMED_TAG, named);
    };
    Container.prototype.isBoundTagged = function (serviceIdentifier, key, value) {
        var bound = false;
        if (this._bindingDictionary.hasKey(serviceIdentifier)) {
            var bindings = this._bindingDictionary.get(serviceIdentifier);
            var request_1 = createMockRequest(this, serviceIdentifier, key, value);
            bound = bindings.some(function (b) { return b.constraint(request_1); });
        }
        if (!bound && this.parent) {
            bound = this.parent.isBoundTagged(serviceIdentifier, key, value);
        }
        return bound;
    };
    Container.prototype.snapshot = function () {
        this._snapshots.push(ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware, this._activations.clone(), this._deactivations.clone(), this._moduleActivationStore.clone()));
    };
    Container.prototype.restore = function () {
        var snapshot = this._snapshots.pop();
        if (snapshot === undefined) {
            throw new Error(NO_MORE_SNAPSHOTS_AVAILABLE);
        }
        this._bindingDictionary = snapshot.bindings;
        this._activations = snapshot.activations;
        this._deactivations = snapshot.deactivations;
        this._middleware = snapshot.middleware;
        this._moduleActivationStore = snapshot.moduleActivationStore;
    };
    Container.prototype.createChild = function (containerOptions) {
        var child = new Container(containerOptions || this.options);
        child.parent = this;
        return child;
    };
    Container.prototype.applyMiddleware = function () {
        var middlewares = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            middlewares[_i] = arguments[_i];
        }
        var initial = (this._middleware) ? this._middleware : this._planAndResolve();
        this._middleware = middlewares.reduce(function (prev, curr) { return curr(prev); }, initial);
    };
    Container.prototype.applyCustomMetadataReader = function (metadataReader) {
        this._metadataReader = metadataReader;
    };
    Container.prototype.get = function (serviceIdentifier) {
        var getArgs = this._getNotAllArgs(serviceIdentifier, false);
        return this._getButThrowIfAsync(getArgs);
    };
    Container.prototype.getAsync = function (serviceIdentifier) {
        return __awaiter(this, void 0, void 0, function () {
            var getArgs;
            return __generator(this, function (_a) {
                getArgs = this._getNotAllArgs(serviceIdentifier, false);
                return [2, this._get(getArgs)];
            });
        });
    };
    Container.prototype.getTagged = function (serviceIdentifier, key, value) {
        var getArgs = this._getNotAllArgs(serviceIdentifier, false, key, value);
        return this._getButThrowIfAsync(getArgs);
    };
    Container.prototype.getTaggedAsync = function (serviceIdentifier, key, value) {
        return __awaiter(this, void 0, void 0, function () {
            var getArgs;
            return __generator(this, function (_a) {
                getArgs = this._getNotAllArgs(serviceIdentifier, false, key, value);
                return [2, this._get(getArgs)];
            });
        });
    };
    Container.prototype.getNamed = function (serviceIdentifier, named) {
        return this.getTagged(serviceIdentifier, NAMED_TAG, named);
    };
    Container.prototype.getNamedAsync = function (serviceIdentifier, named) {
        return this.getTaggedAsync(serviceIdentifier, NAMED_TAG, named);
    };
    Container.prototype.getAll = function (serviceIdentifier) {
        var getArgs = this._getAllArgs(serviceIdentifier);
        return this._getButThrowIfAsync(getArgs);
    };
    Container.prototype.getAllAsync = function (serviceIdentifier) {
        var getArgs = this._getAllArgs(serviceIdentifier);
        return this._getAll(getArgs);
    };
    Container.prototype.getAllTagged = function (serviceIdentifier, key, value) {
        var getArgs = this._getNotAllArgs(serviceIdentifier, true, key, value);
        return this._getButThrowIfAsync(getArgs);
    };
    Container.prototype.getAllTaggedAsync = function (serviceIdentifier, key, value) {
        var getArgs = this._getNotAllArgs(serviceIdentifier, true, key, value);
        return this._getAll(getArgs);
    };
    Container.prototype.getAllNamed = function (serviceIdentifier, named) {
        return this.getAllTagged(serviceIdentifier, NAMED_TAG, named);
    };
    Container.prototype.getAllNamedAsync = function (serviceIdentifier, named) {
        return this.getAllTaggedAsync(serviceIdentifier, NAMED_TAG, named);
    };
    Container.prototype.resolve = function (constructorFunction) {
        var isBound = this.isBound(constructorFunction);
        if (!isBound) {
            this.bind(constructorFunction).toSelf();
        }
        var resolved = this.get(constructorFunction);
        if (!isBound) {
            this.unbind(constructorFunction);
        }
        return resolved;
    };
    Container.prototype._preDestroy = function (constructor, instance) {
        if (Reflect.hasMetadata(PRE_DESTROY, constructor)) {
            var data = Reflect.getMetadata(PRE_DESTROY, constructor);
            return instance[data.value]();
        }
    };
    Container.prototype._removeModuleHandlers = function (moduleId) {
        var moduleActivationsHandlers = this._moduleActivationStore.remove(moduleId);
        this._activations.removeIntersection(moduleActivationsHandlers.onActivations);
        this._deactivations.removeIntersection(moduleActivationsHandlers.onDeactivations);
    };
    Container.prototype._removeModuleBindings = function (moduleId) {
        return this._bindingDictionary.removeByCondition(function (binding) { return binding.moduleId === moduleId; });
    };
    Container.prototype._deactivate = function (binding, instance) {
        var _this = this;
        var constructor = Object.getPrototypeOf(instance).constructor;
        try {
            if (this._deactivations.hasKey(binding.serviceIdentifier)) {
                var result = this._deactivateContainer(instance, this._deactivations.get(binding.serviceIdentifier).values());
                if (isPromise(result)) {
                    return this._handleDeactivationError(result.then(function () { return _this._propagateContainerDeactivationThenBindingAndPreDestroyAsync(binding, instance, constructor); }), constructor);
                }
            }
            var propagateDeactivationResult = this._propagateContainerDeactivationThenBindingAndPreDestroy(binding, instance, constructor);
            if (isPromise(propagateDeactivationResult)) {
                return this._handleDeactivationError(propagateDeactivationResult, constructor);
            }
        }
        catch (ex) {
            throw new Error(ON_DEACTIVATION_ERROR(constructor.name, ex.message));
        }
    };
    Container.prototype._handleDeactivationError = function (asyncResult, constructor) {
        return __awaiter(this, void 0, void 0, function () {
            var ex_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        _a.trys.push([0, 2, , 3]);
                        return [4, asyncResult];
                    case 1:
                        _a.sent();
                        return [3, 3];
                    case 2:
                        ex_1 = _a.sent();
                        throw new Error(ON_DEACTIVATION_ERROR(constructor.name, ex_1.message));
                    case 3: return [2];
                }
            });
        });
    };
    Container.prototype._deactivateContainer = function (instance, deactivationsIterator) {
        var _this = this;
        var deactivation = deactivationsIterator.next();
        while (deactivation.value) {
            var result = deactivation.value(instance);
            if (isPromise(result)) {
                return result.then(function () {
                    return _this._deactivateContainerAsync(instance, deactivationsIterator);
                });
            }
            deactivation = deactivationsIterator.next();
        }
    };
    Container.prototype._deactivateContainerAsync = function (instance, deactivationsIterator) {
        return __awaiter(this, void 0, void 0, function () {
            var deactivation;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        deactivation = deactivationsIterator.next();
                        _a.label = 1;
                    case 1:
                        if (!deactivation.value) return [3, 3];
                        return [4, deactivation.value(instance)];
                    case 2:
                        _a.sent();
                        deactivation = deactivationsIterator.next();
                        return [3, 1];
                    case 3: return [2];
                }
            });
        });
    };
    Container.prototype._getContainerModuleHelpersFactory = function () {
        var _this = this;
        var setModuleId = function (bindingToSyntax, moduleId) {
            bindingToSyntax._binding.moduleId = moduleId;
        };
        var getBindFunction = function (moduleId) {
            return function (serviceIdentifier) {
                var bindingToSyntax = _this.bind(serviceIdentifier);
                setModuleId(bindingToSyntax, moduleId);
                return bindingToSyntax;
            };
        };
        var getUnbindFunction = function () {
            return function (serviceIdentifier) {
                return _this.unbind(serviceIdentifier);
            };
        };
        var getUnbindAsyncFunction = function () {
            return function (serviceIdentifier) {
                return _this.unbindAsync(serviceIdentifier);
            };
        };
        var getIsboundFunction = function () {
            return function (serviceIdentifier) {
                return _this.isBound(serviceIdentifier);
            };
        };
        var getRebindFunction = function (moduleId) {
            return function (serviceIdentifier) {
                var bindingToSyntax = _this.rebind(serviceIdentifier);
                setModuleId(bindingToSyntax, moduleId);
                return bindingToSyntax;
            };
        };
        var getOnActivationFunction = function (moduleId) {
            return function (serviceIdentifier, onActivation) {
                _this._moduleActivationStore.addActivation(moduleId, serviceIdentifier, onActivation);
                _this.onActivation(serviceIdentifier, onActivation);
            };
        };
        var getOnDeactivationFunction = function (moduleId) {
            return function (serviceIdentifier, onDeactivation) {
                _this._moduleActivationStore.addDeactivation(moduleId, serviceIdentifier, onDeactivation);
                _this.onDeactivation(serviceIdentifier, onDeactivation);
            };
        };
        return function (mId) { return ({
            bindFunction: getBindFunction(mId),
            isboundFunction: getIsboundFunction(),
            onActivationFunction: getOnActivationFunction(mId),
            onDeactivationFunction: getOnDeactivationFunction(mId),
            rebindFunction: getRebindFunction(mId),
            unbindFunction: getUnbindFunction(),
            unbindAsyncFunction: getUnbindAsyncFunction()
        }); };
    };
    Container.prototype._getAll = function (getArgs) {
        return Promise.all(this._get(getArgs));
    };
    Container.prototype._get = function (getArgs) {
        var planAndResolveArgs = __assign(__assign({}, getArgs), { contextInterceptor: function (context) { return context; }, targetType: TargetTypeEnum.Variable });
        if (this._middleware) {
            var middlewareResult = this._middleware(planAndResolveArgs);
            if (middlewareResult === undefined || middlewareResult === null) {
                throw new Error(INVALID_MIDDLEWARE_RETURN);
            }
            return middlewareResult;
        }
        return this._planAndResolve()(planAndResolveArgs);
    };
    Container.prototype._getButThrowIfAsync = function (getArgs) {
        var result = this._get(getArgs);
        if (isPromiseOrContainsPromise(result)) {
            throw new Error(LAZY_IN_SYNC(getArgs.serviceIdentifier));
        }
        return result;
    };
    Container.prototype._getAllArgs = function (serviceIdentifier) {
        var getAllArgs = {
            avoidConstraints: true,
            isMultiInject: true,
            serviceIdentifier: serviceIdentifier,
        };
        return getAllArgs;
    };
    Container.prototype._getNotAllArgs = function (serviceIdentifier, isMultiInject, key, value) {
        var getNotAllArgs = {
            avoidConstraints: false,
            isMultiInject: isMultiInject,
            serviceIdentifier: serviceIdentifier,
            key: key,
            value: value,
        };
        return getNotAllArgs;
    };
    Container.prototype._planAndResolve = function () {
        var _this = this;
        return function (args) {
            var context = plan(_this._metadataReader, _this, args.isMultiInject, args.targetType, args.serviceIdentifier, args.key, args.value, args.avoidConstraints);
            context = args.contextInterceptor(context);
            var result = resolve(context);
            return result;
        };
    };
    Container.prototype._deactivateIfSingleton = function (binding) {
        var _this = this;
        if (!binding.activated) {
            return;
        }
        if (isPromise(binding.cache)) {
            return binding.cache.then(function (resolved) { return _this._deactivate(binding, resolved); });
        }
        return this._deactivate(binding, binding.cache);
    };
    Container.prototype._deactivateSingletons = function (bindings) {
        for (var _i = 0, bindings_1 = bindings; _i < bindings_1.length; _i++) {
            var binding = bindings_1[_i];
            var result = this._deactivateIfSingleton(binding);
            if (isPromise(result)) {
                throw new Error(ASYNC_UNBIND_REQUIRED);
            }
        }
    };
    Container.prototype._deactivateSingletonsAsync = function (bindings) {
        return __awaiter(this, void 0, void 0, function () {
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4, Promise.all(bindings.map(function (b) { return _this._deactivateIfSingleton(b); }))];
                    case 1:
                        _a.sent();
                        return [2];
                }
            });
        });
    };
    Container.prototype._propagateContainerDeactivationThenBindingAndPreDestroy = function (binding, instance, constructor) {
        if (this.parent) {
            return this._deactivate.bind(this.parent)(binding, instance);
        }
        else {
            return this._bindingDeactivationAndPreDestroy(binding, instance, constructor);
        }
    };
    Container.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync = function (binding, instance, constructor) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!this.parent) return [3, 2];
                        return [4, this._deactivate.bind(this.parent)(binding, instance)];
                    case 1:
                        _a.sent();
                        return [3, 4];
                    case 2: return [4, this._bindingDeactivationAndPreDestroyAsync(binding, instance, constructor)];
                    case 3:
                        _a.sent();
                        _a.label = 4;
                    case 4: return [2];
                }
            });
        });
    };
    Container.prototype._removeServiceFromDictionary = function (serviceIdentifier) {
        try {
            this._bindingDictionary.remove(serviceIdentifier);
        }
        catch (e) {
            throw new Error(CANNOT_UNBIND + " " + getServiceIdentifierAsString(serviceIdentifier));
        }
    };
    Container.prototype._bindingDeactivationAndPreDestroy = function (binding, instance, constructor) {
        var _this = this;
        if (typeof binding.onDeactivation === "function") {
            var result = binding.onDeactivation(instance);
            if (isPromise(result)) {
                return result.then(function () { return _this._preDestroy(constructor, instance); });
            }
        }
        return this._preDestroy(constructor, instance);
    };
    Container.prototype._bindingDeactivationAndPreDestroyAsync = function (binding, instance, constructor) {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(typeof binding.onDeactivation === "function")) return [3, 2];
                        return [4, binding.onDeactivation(instance)];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [4, this._preDestroy(constructor, instance)];
                    case 3:
                        _a.sent();
                        return [2];
                }
            });
        });
    };
    return Container;
}());

var ContainerModule = (function () {
    function ContainerModule(registry) {
        this.id = id();
        this.registry = registry;
    }
    return ContainerModule;
}());
var AsyncContainerModule = (function () {
    function AsyncContainerModule(registry) {
        this.id = id();
        this.registry = registry;
    }
    return AsyncContainerModule;
}());

function getFirstArrayDuplicate(array) {
    var seenValues = new Set();
    for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {
        var entry = array_1[_i];
        if (seenValues.has(entry)) {
            return entry;
        }
        else {
            seenValues.add(entry);
        }
    }
    return undefined;
}

function targetIsConstructorFunction(target) {
    return target.prototype !== undefined;
}
function _throwIfMethodParameter(parameterName) {
    if (parameterName !== undefined) {
        throw new Error(INVALID_DECORATOR_OPERATION);
    }
}
function tagParameter(annotationTarget, parameterName, parameterIndex, metadata) {
    _throwIfMethodParameter(parameterName);
    _tagParameterOrProperty(TAGGED, annotationTarget, parameterIndex.toString(), metadata);
}
function tagProperty(annotationTarget, propertyName, metadata) {
    if (targetIsConstructorFunction(annotationTarget)) {
        throw new Error(INVALID_DECORATOR_OPERATION);
    }
    _tagParameterOrProperty(TAGGED_PROP, annotationTarget.constructor, propertyName, metadata);
}
function _ensureNoMetadataKeyDuplicates(metadata) {
    var metadatas = [];
    if (Array.isArray(metadata)) {
        metadatas = metadata;
        var duplicate = getFirstArrayDuplicate(metadatas.map(function (md) { return md.key; }));
        if (duplicate !== undefined) {
            throw new Error(DUPLICATED_METADATA + " " + duplicate.toString());
        }
    }
    else {
        metadatas = [metadata];
    }
    return metadatas;
}
function _tagParameterOrProperty(metadataKey, annotationTarget, key, metadata) {
    var metadatas = _ensureNoMetadataKeyDuplicates(metadata);
    var paramsOrPropertiesMetadata = {};
    if (Reflect.hasOwnMetadata(metadataKey, annotationTarget)) {
        paramsOrPropertiesMetadata = Reflect.getMetadata(metadataKey, annotationTarget);
    }
    var paramOrPropertyMetadata = paramsOrPropertiesMetadata[key];
    if (paramOrPropertyMetadata === undefined) {
        paramOrPropertyMetadata = [];
    }
    else {
        var _loop_1 = function (m) {
            if (metadatas.some(function (md) { return md.key === m.key; })) {
                throw new Error(DUPLICATED_METADATA + " " + m.key.toString());
            }
        };
        for (var _i = 0, paramOrPropertyMetadata_1 = paramOrPropertyMetadata; _i < paramOrPropertyMetadata_1.length; _i++) {
            var m = paramOrPropertyMetadata_1[_i];
            _loop_1(m);
        }
    }
    paramOrPropertyMetadata.push.apply(paramOrPropertyMetadata, metadatas);
    paramsOrPropertiesMetadata[key] = paramOrPropertyMetadata;
    Reflect.defineMetadata(metadataKey, paramsOrPropertiesMetadata, annotationTarget);
}
function createTaggedDecorator(metadata) {
    return function (target, targetKey, indexOrPropertyDescriptor) {
        if (typeof indexOrPropertyDescriptor === "number") {
            tagParameter(target, targetKey, indexOrPropertyDescriptor, metadata);
        }
        else {
            tagProperty(target, targetKey, metadata);
        }
    };
}
function _decorate(decorators, target) {
    Reflect.decorate(decorators, target);
}
function _param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); };
}
function decorate(decorator, target, parameterIndexOrProperty) {
    if (typeof parameterIndexOrProperty === "number") {
        _decorate([_param(parameterIndexOrProperty, decorator)], target);
    }
    else if (typeof parameterIndexOrProperty === "string") {
        Reflect.decorate([decorator], target, parameterIndexOrProperty);
    }
    else {
        _decorate([decorator], target);
    }
}

function injectable() {
    return function (target) {
        if (Reflect.hasOwnMetadata(PARAM_TYPES, target)) {
            throw new Error(DUPLICATED_INJECTABLE_DECORATOR);
        }
        var types = Reflect.getMetadata(DESIGN_PARAM_TYPES, target) || [];
        Reflect.defineMetadata(PARAM_TYPES, types, target);
        return target;
    };
}

function tagged(metadataKey, metadataValue) {
    return createTaggedDecorator(new Metadata(metadataKey, metadataValue));
}

function named(name) {
    return createTaggedDecorator(new Metadata(NAMED_TAG, name));
}

function injectBase(metadataKey) {
    return function (serviceIdentifier) {
        return function (target, targetKey, indexOrPropertyDescriptor) {
            if (serviceIdentifier === undefined) {
                var className = typeof target === "function" ? target.name : target.constructor.name;
                throw new Error(UNDEFINED_INJECT_ANNOTATION(className));
            }
            return createTaggedDecorator(new Metadata(metadataKey, serviceIdentifier))(target, targetKey, indexOrPropertyDescriptor);
        };
    };
}

var inject = injectBase(INJECT_TAG);

function optional() {
    return createTaggedDecorator(new Metadata(OPTIONAL_TAG, true));
}

function unmanaged() {
    return function (target, targetKey, index) {
        var metadata = new Metadata(UNMANAGED_TAG, true);
        tagParameter(target, targetKey, index, metadata);
    };
}

var multiInject = injectBase(MULTI_INJECT_TAG);

function targetName(name) {
    return function (target, targetKey, index) {
        var metadata = new Metadata(NAME_TAG, name);
        tagParameter(target, targetKey, index, metadata);
    };
}

function propertyEventDecorator(eventKey, errorMessage) {
    return function () {
        return function (target, propertyKey) {
            var metadata = new Metadata(eventKey, propertyKey);
            if (Reflect.hasOwnMetadata(eventKey, target.constructor)) {
                throw new Error(errorMessage);
            }
            Reflect.defineMetadata(eventKey, metadata, target.constructor);
        };
    };
}

var postConstruct = propertyEventDecorator(POST_CONSTRUCT, MULTIPLE_POST_CONSTRUCT_METHODS);

var preDestroy = propertyEventDecorator(PRE_DESTROY, MULTIPLE_PRE_DESTROY_METHODS);

var interfaces;
(function (interfaces) {
    ;
})(interfaces || (interfaces = {}));

var METADATA_KEY = keys;

const TYPES = {
  IAppService: Symbol.for("IAppService")
};

var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};
const ALLOWED_APPS = [
  {
    name: 'OPSTrax',
    url: `http://www.google.com?query=OPSTrax`,
    description: 'Collision and Mechanical ordering',
    isOpstraxProduct: true
  },
  {
    name: 'DeliveryTrax',
    url: `http://www.google.com?query=DeliveryTrax`,
    description: 'Routes & Driver fleet management',
    isOpstraxProduct: true
  },
  {
    name: 'ValuTrax',
    url: `http://www.google.com?query=ValuTrax`,
    description: 'Claims & Incentives management',
    isOpstraxProduct: true
  },
  {
    name: 'BackTrax',
    url: `http://www.google.com?query=BackTrax`,
    description: 'Electronic Parts Return',
    isOpstraxProduct: true
  },
  {
    name: 'SubTrax',
    url: `http://www.google.com?query=SubTrax`,
    description: 'Sublet Supplier Management',
    isOpstraxProduct: true
  },
  {
    name: 'TraxAR',
    url: `http://www.google.com?query=TraxAR`,
    description: '',
    isOpstraxProduct: true
  },
  {
    name: 'LinkIQ',
    url: `http://www.google.com?query=LinkIQ`,
    description: 'Parts performance monitoring',
    isOpstraxProduct: false
  },
  {
    name: 'D2D Link',
    url: `http://www.google.com?query=D2DLink`,
    description: 'Parts Inventory',
    isOpstraxProduct: false
  },
  {
    name: 'D2D Express',
    url: `http://www.google.com?query=D2DExpress`,
    description: 'Parts Inventory',
    isOpstraxProduct: false
  },
  {
    name: 'My Price Link',
    url: `http://www.google.com?query=D2DExpress`,
    description: 'OEM Pricing Realtime',
    isOpstraxProduct: false
  },
  {
    name: 'EPC',
    url: `http://www.google.com?query=EPC`,
    description: 'Parts Catalog',
    isOpstraxProduct: false
  },
  {
    name: 'DPA',
    url: `http://www.google.com?query=DPA`,
    description: 'Parts Catalog',
    isOpstraxProduct: false
  },
  {
    name: 'Marketplace Direct',
    url: `http://www.google.com?query=DPA`,
    description: 'EBAY sales channel',
    isOpstraxProduct: false
  },
  {
    name: 'Consumer Link',
    url: `http://www.google.com?query=DPA`,
    description: 'Parts Marketing',
    isOpstraxProduct: false
  }
];
let AppService = class AppService {
  getAppListing() {
    return Promise.resolve(ALLOWED_APPS);
  }
};
AppService = __decorate([
  injectable()
], AppService);

const myContainer = new Container();
myContainer.bind(TYPES.IAppService).to(AppService);

const oecAppLauncherCss = ":host{--oec-app-launcher-color:rgba(0, 0, 0, 0.87);overflow-y:auto;display:flex;flex:1;flex-flow:column nowrap;width:100%}:host strong{text-transform:uppercase}:host .body{display:flex;flex-flow:column nowrap;justify-content:space-between;flex:1;overflow:hidden}:host .links{display:flex;flex-flow:row wrap;flex:1;overflow:auto;position:relative;margin-top:0.8rem;justify-content:space-between;margin-left:-2.5rem}:host .links>div{display:flex;flex:1;flex-flow:column wrap;padding-left:2rem;padding-right:5rem}:host .links a{display:grid;grid-template-rows:[row1-start] auto [row1-end row2-start] auto [row2-end];grid-template-columns:[col1-start] auto [col1-end col2-start] 1fr [col2-end];column-gap:0.5rem;row-gap:0.3rem;text-decoration:none;margin-bottom:0.5rem;padding:0.5rem;border-radius:5px}:host .links a.disabled{opacity:0.4}:host .links a:hover:not(.disabled){background-color:#e8f0fe}:host .links .icon{grid-row:row1-start/row2-end;grid-column:col1-start/col1-end;width:25px;height:25px}:host .links .name{grid-row:row1-start/row1-end;grid-column:col2-start/col2-end;text-decoration:underline}:host .links .description{grid-row:row2-start/row2-end;grid-column:col2-start/col2-end;color:#0000008a}:host .cta{display:flex;flex:0 0 0;padding:10px 0}:host .cta button{width:100%;box-shadow:0 0 #0003, 0 0 #00000024, 0 0 #0000001f;border-color:#0000001f;border:1px solid var(--oec-app-launcher-color);padding:0 15px;line-height:34px;box-sizing:border-box;position:relative;user-select:none;cursor:pointer;outline:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;min-width:64px;border-radius:4px;overflow:visible;color:inherit;background:transparent;font-family:Arial, Helvetica, sans-serif;font-size:14px;font-weight:500}:host .cta button div.button-focus-overlay{position:absolute;top:0;right:0;left:0;bottom:0;opacity:0;background-color:black;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1) 0.0717249ms, background-color 0s cubic-bezier(0.35, 0, 0.25, 1)}:host .cta button div.button-focus-overlay:hover{opacity:0.04}";

function sortByName(a, b) {
  if (a.name > b.name) {
    return 1;
  }
  if (a.name < b.name) {
    return -1;
  }
  return 0;
}
const OecAppLauncher = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.destroy$ = new ReplaySubject(1);
    this.landingOecUrl = 'https://oeconnection.com/';
    this.landingOpstraxUrl = 'https://www.opstrax.com/';
    this.enabledApps = []; // Doesn't support converters.
    // Do not bind this with html attributes. Set with code.
    this.allowedApps = [];
    this.handleViewAll = async (ev) => {
      const ref = await Overlay.attach(ev.target, {
        template: ({ hide }) => h("div", null, h("button", { onClick: hide }, "close")),
        panelClass: 'bento-viewall-dialog-panel',
        backdropClass: 'dark-backdrop',
        hasBackdrop: true,
        hasArrow: false
      });
      const item = await ref.getItemElement();
      const onclose = () => {
        item.removeEventListener('closed', onclose);
        ref.dispose();
      };
      item.addEventListener('closed', onclose);
      item.show();
    };
    this.appService = myContainer.get(TYPES.IAppService);
  }
  appTemplateRender(app) {
    const isEnabled = this.enabledApps.includes(app.name);
    const disabledLandingUrl = app.isOpstraxProduct
      ? this.landingOpstraxUrl
      : this.landingOecUrl;
    return h("a", { href: isEnabled ? app.url : disabledLandingUrl, title: app.name, class: !isEnabled ? "disabled" : '' }, app.isOpstraxProduct
      ? h(MyIconOps, { class: "icon" })
      : h(MyIconOec, { class: "icon" }), h("span", { class: "name" }, app.name), h("span", { class: "description" }, app.description));
  }
  ;
  connectedCallback() {
    from(this.appService.getAppListing()).pipe(takeUntil(this.destroy$)).subscribe(x => {
      this.allowedApps = x;
    });
  }
  disconnectedCallback() {
    this.destroy$.next();
    this.destroy$.complete();
  }
  render() {
    const getSortedItems = (columnFilter) => [
      ...this.allowedApps.filter(columnFilter)
        .filter(x => this.enabledApps.includes(x.name))
        .sort(sortByName),
      ...this.allowedApps.filter(columnFilter)
        .filter(x => !this.enabledApps.includes(x.name))
        .sort(sortByName)
    ];
    return (h(Host, null, h("strong", null, "App Launcher"), h("div", { class: "body" }, h("div", { class: "links" }, h("div", { class: "opsApps" }, getSortedItems(x => x.isOpstraxProduct).map(this.appTemplateRender.bind(this))), h("div", { class: "oecApps" }, getSortedItems(x => !x.isOpstraxProduct).map(this.appTemplateRender.bind(this)))), h("div", { class: "cta" }, h("button", { onClick: this.handleViewAll }, "View All", h("div", { class: "button-focus-overlay" }))))));
  }
};
OecAppLauncher.style = oecAppLauncherCss;

export { OecAppLauncher as oec_app_launcher };
